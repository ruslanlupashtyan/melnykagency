"use strict";

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e15) { throw _e15; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e16) { didErr = true; err = _e16; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
!function (t, e) {
  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e((t = "undefined" != typeof globalThis ? globalThis : t || self).IMask = {});
}(void 0, function (t) {
  "use strict";

  var e = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
    s = function s(t) {
      return t && t.Math == Math && t;
    },
    i = s("object" == (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis)) && globalThis) || s("object" == (typeof window === "undefined" ? "undefined" : _typeof(window)) && window) || s("object" == (typeof self === "undefined" ? "undefined" : _typeof(self)) && self) || s("object" == _typeof(e) && e) || function () {
      return this;
    }() || Function("return this")(),
    n = {},
    a = function a(t) {
      try {
        return !!t();
      } catch (t) {
        return !0;
      }
    },
    r = !a(function () {
      return 7 != Object.defineProperty({}, 1, {
        get: function get() {
          return 7;
        }
      })[1];
    }),
    o = !a(function () {
      var t = function () {}.bind();
      return "function" != typeof t || t.hasOwnProperty("prototype");
    }),
    l = o,
    u = Function.prototype.call,
    h = l ? u.bind(u) : function () {
      return u.apply(u, arguments);
    },
    c = {},
    d = {}.propertyIsEnumerable,
    p = Object.getOwnPropertyDescriptor,
    f = p && !d.call({
      1: 2
    }, 1);
  c.f = f ? function (t) {
    var e = p(this, t);
    return !!e && e.enumerable;
  } : d;
  var g,
    v,
    m = function m(t, e) {
      return {
        enumerable: !(1 & t),
        configurable: !(2 & t),
        writable: !(4 & t),
        value: e
      };
    },
    k = o,
    y = Function.prototype,
    b = y.bind,
    w = y.call,
    C = k && b.bind(w, w),
    A = k ? function (t) {
      return t && C(t);
    } : function (t) {
      return t && function () {
        return w.apply(t, arguments);
      };
    },
    S = A,
    _ = S({}.toString),
    E = S("".slice),
    x = function x(t) {
      return E(_(t), 8, -1);
    },
    F = A,
    D = a,
    O = x,
    B = i.Object,
    T = F("".split),
    L = D(function () {
      return !B("z").propertyIsEnumerable(0);
    }) ? function (t) {
      return "String" == O(t) ? T(t, "") : B(t);
    } : B,
    M = i.TypeError,
    P = function P(t) {
      if (null == t) throw M("Can't call method on " + t);
      return t;
    },
    I = L,
    V = P,
    R = function R(t) {
      return I(V(t));
    },
    j = function j(t) {
      return "function" == typeof t;
    },
    N = j,
    H = function H(t) {
      return "object" == _typeof(t) ? null !== t : N(t);
    },
    U = i,
    z = j,
    q = function q(t, e) {
      return arguments.length < 2 ? (s = U[t], z(s) ? s : void 0) : U[t] && U[t][e];
      var s;
    },
    Y = A({}.isPrototypeOf),
    G = q("navigator", "userAgent") || "",
    Z = i,
    $ = G,
    K = Z.process,
    W = Z.Deno,
    X = K && K.versions || W && W.version,
    J = X && X.v8;
  J && (v = (g = J.split("."))[0] > 0 && g[0] < 4 ? 1 : +(g[0] + g[1])), !v && $ && (!(g = $.match(/Edge\/(\d+)/)) || g[1] >= 74) && (g = $.match(/Chrome\/(\d+)/)) && (v = +g[1]);
  var Q = v,
    tt = a,
    et = !!Object.getOwnPropertySymbols && !tt(function () {
      var t = Symbol();
      return !String(t) || !(Object(t) instanceof Symbol) || !Symbol.sham && Q && Q < 41;
    }),
    st = et && !Symbol.sham && "symbol" == _typeof(Symbol.iterator),
    it = q,
    nt = j,
    at = Y,
    rt = st,
    ot = i.Object,
    lt = rt ? function (t) {
      return "symbol" == _typeof(t);
    } : function (t) {
      var e = it("Symbol");
      return nt(e) && at(e.prototype, ot(t));
    },
    ut = i.String,
    ht = j,
    ct = function ct(t) {
      try {
        return ut(t);
      } catch (t) {
        return "Object";
      }
    },
    dt = i.TypeError,
    pt = function pt(t) {
      if (ht(t)) return t;
      throw dt(ct(t) + " is not a function");
    },
    ft = h,
    gt = j,
    vt = H,
    mt = i.TypeError,
    kt = {
      exports: {}
    },
    yt = i,
    bt = Object.defineProperty,
    wt = function wt(t, e) {
      try {
        bt(yt, t, {
          value: e,
          configurable: !0,
          writable: !0
        });
      } catch (s) {
        yt[t] = e;
      }
      return e;
    },
    Ct = wt,
    At = "__core-js_shared__",
    St = i[At] || Ct(At, {}),
    _t = St;
  (kt.exports = function (t, e) {
    return _t[t] || (_t[t] = void 0 !== e ? e : {});
  })("versions", []).push({
    version: "3.21.0",
    mode: "global",
    copyright: "Â© 2014-2022 Denis Pushkarev (zloirock.ru)",
    license: "https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",
    source: "https://github.com/zloirock/core-js"
  });
  var Et = P,
    xt = i.Object,
    Ft = function Ft(t) {
      return xt(Et(t));
    },
    Dt = Ft,
    Ot = A({}.hasOwnProperty),
    Bt = Object.hasOwn || function (t, e) {
      return Ot(Dt(t), e);
    },
    Tt = A,
    Lt = 0,
    Mt = Math.random(),
    Pt = Tt(1..toString),
    It = function It(t) {
      return "Symbol(" + (void 0 === t ? "" : t) + ")_" + Pt(++Lt + Mt, 36);
    },
    Vt = i,
    Rt = kt.exports,
    jt = Bt,
    Nt = It,
    Ht = et,
    Ut = st,
    zt = Rt("wks"),
    qt = Vt.Symbol,
    Yt = qt && qt["for"],
    Gt = Ut ? qt : qt && qt.withoutSetter || Nt,
    Zt = function Zt(t) {
      if (!jt(zt, t) || !Ht && "string" != typeof zt[t]) {
        var e = "Symbol." + t;
        Ht && jt(qt, t) ? zt[t] = qt[t] : zt[t] = Ut && Yt ? Yt(e) : Gt(e);
      }
      return zt[t];
    },
    $t = h,
    Kt = H,
    Wt = lt,
    Xt = function Xt(t, e) {
      var s = t[e];
      return null == s ? void 0 : pt(s);
    },
    Jt = function Jt(t, e) {
      var s, i;
      if ("string" === e && gt(s = t.toString) && !vt(i = ft(s, t))) return i;
      if (gt(s = t.valueOf) && !vt(i = ft(s, t))) return i;
      if ("string" !== e && gt(s = t.toString) && !vt(i = ft(s, t))) return i;
      throw mt("Can't convert object to primitive value");
    },
    Qt = Zt,
    te = i.TypeError,
    ee = Qt("toPrimitive"),
    se = function se(t, e) {
      if (!Kt(t) || Wt(t)) return t;
      var s,
        i = Xt(t, ee);
      if (i) {
        if (void 0 === e && (e = "default"), s = $t(i, t, e), !Kt(s) || Wt(s)) return s;
        throw te("Can't convert object to primitive value");
      }
      return void 0 === e && (e = "number"), Jt(t, e);
    },
    ie = lt,
    ne = function ne(t) {
      var e = se(t, "string");
      return ie(e) ? e : e + "";
    },
    ae = H,
    re = i.document,
    oe = ae(re) && ae(re.createElement),
    le = function le(t) {
      return oe ? re.createElement(t) : {};
    },
    ue = !r && !a(function () {
      return 7 != Object.defineProperty(le("div"), "a", {
        get: function get() {
          return 7;
        }
      }).a;
    }),
    he = r,
    ce = h,
    de = c,
    pe = m,
    fe = R,
    ge = ne,
    ve = Bt,
    me = ue,
    ke = Object.getOwnPropertyDescriptor;
  n.f = he ? ke : function (t, e) {
    if (t = fe(t), e = ge(e), me) try {
      return ke(t, e);
    } catch (t) {}
    if (ve(t, e)) return pe(!ce(de.f, t, e), t[e]);
  };
  var ye = {},
    be = r && a(function () {
      return 42 != Object.defineProperty(function () {}, "prototype", {
        value: 42,
        writable: !1
      }).prototype;
    }),
    we = i,
    Ce = H,
    Ae = we.String,
    Se = we.TypeError,
    _e = function _e(t) {
      if (Ce(t)) return t;
      throw Se(Ae(t) + " is not an object");
    },
    Ee = r,
    xe = ue,
    Fe = be,
    De = _e,
    Oe = ne,
    Be = i.TypeError,
    Te = Object.defineProperty,
    Le = Object.getOwnPropertyDescriptor,
    Me = "enumerable",
    Pe = "configurable",
    Ie = "writable";
  ye.f = Ee ? Fe ? function (t, e, s) {
    if (De(t), e = Oe(e), De(s), "function" == typeof t && "prototype" === e && "value" in s && Ie in s && !s[Ie]) {
      var i = Le(t, e);
      i && i[Ie] && (t[e] = s.value, s = {
        configurable: Pe in s ? s[Pe] : i[Pe],
        enumerable: Me in s ? s[Me] : i[Me],
        writable: !1
      });
    }
    return Te(t, e, s);
  } : Te : function (t, e, s) {
    if (De(t), e = Oe(e), De(s), xe) try {
      return Te(t, e, s);
    } catch (t) {}
    if ("get" in s || "set" in s) throw Be("Accessors not supported");
    return "value" in s && (t[e] = s.value), t;
  };
  var Ve = ye,
    Re = m,
    je = r ? function (t, e, s) {
      return Ve.f(t, e, Re(1, s));
    } : function (t, e, s) {
      return t[e] = s, t;
    },
    Ne = {
      exports: {}
    },
    He = j,
    Ue = St,
    ze = A(Function.toString);
  He(Ue.inspectSource) || (Ue.inspectSource = function (t) {
    return ze(t);
  });
  var qe,
    Ye,
    Ge,
    Ze = Ue.inspectSource,
    $e = j,
    Ke = Ze,
    We = i.WeakMap,
    Xe = $e(We) && /native code/.test(Ke(We)),
    Je = kt.exports,
    Qe = It,
    ts = Je("keys"),
    es = {},
    ss = Xe,
    is = i,
    ns = A,
    as = H,
    rs = je,
    os = Bt,
    ls = St,
    us = function us(t) {
      return ts[t] || (ts[t] = Qe(t));
    },
    hs = es,
    cs = "Object already initialized",
    ds = is.TypeError,
    ps = is.WeakMap;
  if (ss || ls.state) {
    var fs = ls.state || (ls.state = new ps()),
      gs = ns(fs.get),
      vs = ns(fs.has),
      ms = ns(fs.set);
    qe = function qe(t, e) {
      if (vs(fs, t)) throw new ds(cs);
      return e.facade = t, ms(fs, t, e), e;
    }, Ye = function Ye(t) {
      return gs(fs, t) || {};
    }, Ge = function Ge(t) {
      return vs(fs, t);
    };
  } else {
    var ks = us("state");
    hs[ks] = !0, qe = function qe(t, e) {
      if (os(t, ks)) throw new ds(cs);
      return e.facade = t, rs(t, ks, e), e;
    }, Ye = function Ye(t) {
      return os(t, ks) ? t[ks] : {};
    }, Ge = function Ge(t) {
      return os(t, ks);
    };
  }
  var ys = {
      set: qe,
      get: Ye,
      has: Ge,
      enforce: function enforce(t) {
        return Ge(t) ? Ye(t) : qe(t, {});
      },
      getterFor: function getterFor(t) {
        return function (e) {
          var s;
          if (!as(e) || (s = Ye(e)).type !== t) throw ds("Incompatible receiver, " + t + " required");
          return s;
        };
      }
    },
    bs = r,
    ws = Bt,
    Cs = Function.prototype,
    As = bs && Object.getOwnPropertyDescriptor,
    Ss = ws(Cs, "name"),
    _s = Ss && "something" === function () {}.name,
    Es = Ss && (!bs || bs && As(Cs, "name").configurable),
    xs = i,
    Fs = j,
    Ds = Bt,
    Os = je,
    Bs = wt,
    Ts = Ze,
    Ls = {
      EXISTS: Ss,
      PROPER: _s,
      CONFIGURABLE: Es
    }.CONFIGURABLE,
    Ms = ys.get,
    Ps = ys.enforce,
    Is = String(String).split("String");
  (Ne.exports = function (t, e, s, i) {
    var n,
      a = !!i && !!i.unsafe,
      r = !!i && !!i.enumerable,
      o = !!i && !!i.noTargetGet,
      l = i && void 0 !== i.name ? i.name : e;
    Fs(s) && ("Symbol(" === String(l).slice(0, 7) && (l = "[" + String(l).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"), (!Ds(s, "name") || Ls && s.name !== l) && Os(s, "name", l), (n = Ps(s)).source || (n.source = Is.join("string" == typeof l ? l : ""))), t !== xs ? (a ? !o && t[e] && (r = !0) : delete t[e], r ? t[e] = s : Os(t, e, s)) : r ? t[e] = s : Bs(e, s);
  })(Function.prototype, "toString", function () {
    return Fs(this) && Ms(this).source || Ts(this);
  });
  var Vs = {},
    Rs = Math.ceil,
    js = Math.floor,
    Ns = function Ns(t) {
      var e = +t;
      return e != e || 0 === e ? 0 : (e > 0 ? js : Rs)(e);
    },
    Hs = Ns,
    Us = Math.max,
    zs = Math.min,
    qs = Ns,
    Ys = Math.min,
    Gs = function Gs(t) {
      return t > 0 ? Ys(qs(t), 9007199254740991) : 0;
    },
    Zs = Gs,
    $s = R,
    Ks = function Ks(t, e) {
      var s = Hs(t);
      return s < 0 ? Us(s + e, 0) : zs(s, e);
    },
    Ws = function Ws(t) {
      return Zs(t.length);
    },
    Xs = function Xs(t) {
      return function (e, s, i) {
        var n,
          a = $s(e),
          r = Ws(a),
          o = Ks(i, r);
        if (t && s != s) {
          for (; r > o;) if ((n = a[o++]) != n) return !0;
        } else for (; r > o; o++) if ((t || o in a) && a[o] === s) return t || o || 0;
        return !t && -1;
      };
    },
    Js = {
      includes: Xs(!0),
      indexOf: Xs(!1)
    },
    Qs = Bt,
    ti = R,
    ei = Js.indexOf,
    si = es,
    ii = A([].push),
    ni = function ni(t, e) {
      var s,
        i = ti(t),
        n = 0,
        a = [];
      for (s in i) !Qs(si, s) && Qs(i, s) && ii(a, s);
      for (; e.length > n;) Qs(i, s = e[n++]) && (~ei(a, s) || ii(a, s));
      return a;
    },
    ai = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"],
    ri = ni,
    oi = ai.concat("length", "prototype");
  Vs.f = Object.getOwnPropertyNames || function (t) {
    return ri(t, oi);
  };
  var li = {};
  li.f = Object.getOwnPropertySymbols;
  var ui = q,
    hi = Vs,
    ci = li,
    di = _e,
    pi = A([].concat),
    fi = ui("Reflect", "ownKeys") || function (t) {
      var e = hi.f(di(t)),
        s = ci.f;
      return s ? pi(e, s(t)) : e;
    },
    gi = Bt,
    vi = fi,
    mi = n,
    ki = ye,
    yi = a,
    bi = j,
    wi = /#|\.prototype\./,
    Ci = function Ci(t, e) {
      var s = Si[Ai(t)];
      return s == Ei || s != _i && (bi(e) ? yi(e) : !!e);
    },
    Ai = Ci.normalize = function (t) {
      return String(t).replace(wi, ".").toLowerCase();
    },
    Si = Ci.data = {},
    _i = Ci.NATIVE = "N",
    Ei = Ci.POLYFILL = "P",
    xi = Ci,
    Fi = i,
    Di = n.f,
    Oi = je,
    Bi = Ne.exports,
    Ti = wt,
    Li = function Li(t, e, s) {
      for (var i = vi(e), n = ki.f, a = mi.f, r = 0; r < i.length; r++) {
        var o = i[r];
        gi(t, o) || s && gi(s, o) || n(t, o, a(e, o));
      }
    },
    Mi = xi,
    Pi = function Pi(t, e) {
      var s,
        i,
        n,
        a,
        r,
        o = t.target,
        l = t.global,
        u = t.stat;
      if (s = l ? Fi : u ? Fi[o] || Ti(o, {}) : (Fi[o] || {}).prototype) for (i in e) {
        if (a = e[i], n = t.noTargetGet ? (r = Di(s, i)) && r.value : s[i], !Mi(l ? i : o + (u ? "." : "#") + i, t.forced) && void 0 !== n) {
          if (_typeof(a) == _typeof(n)) continue;
          Li(a, n);
        }
        (t.sham || n && n.sham) && Oi(a, "sham", !0), Bi(s, i, a, t);
      }
    },
    Ii = ni,
    Vi = ai,
    Ri = Object.keys || function (t) {
      return Ii(t, Vi);
    },
    ji = r,
    Ni = A,
    Hi = h,
    Ui = a,
    zi = Ri,
    qi = li,
    Yi = c,
    Gi = Ft,
    Zi = L,
    $i = Object.assign,
    Ki = Object.defineProperty,
    Wi = Ni([].concat),
    Xi = !$i || Ui(function () {
      if (ji && 1 !== $i({
        b: 1
      }, $i(Ki({}, "a", {
        enumerable: !0,
        get: function get() {
          Ki(this, "b", {
            value: 3,
            enumerable: !1
          });
        }
      }), {
        b: 2
      })).b) return !0;
      var t = {},
        e = {},
        s = Symbol(),
        i = "abcdefghijklmnopqrst";
      return t[s] = 7, i.split("").forEach(function (t) {
        e[t] = t;
      }), 7 != $i({}, t)[s] || zi($i({}, e)).join("") != i;
    }) ? function (t, e) {
      for (var s = Gi(t), i = arguments.length, n = 1, a = qi.f, r = Yi.f; i > n;) for (var o, l = Zi(arguments[n++]), u = a ? Wi(zi(l), a(l)) : zi(l), h = u.length, c = 0; h > c;) o = u[c++], ji && !Hi(r, l, o) || (s[o] = l[o]);
      return s;
    } : $i,
    Ji = Xi;
  Pi({
    target: "Object",
    stat: !0,
    forced: Object.assign !== Ji
  }, {
    assign: Ji
  });
  var Qi = {};
  Qi[Zt("toStringTag")] = "z";
  var tn = i,
    en = "[object z]" === String(Qi),
    sn = j,
    nn = x,
    an = Zt("toStringTag"),
    rn = tn.Object,
    on = "Arguments" == nn(function () {
      return arguments;
    }()),
    ln = en ? nn : function (t) {
      var e, s, i;
      return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (s = function (t, e) {
        try {
          return t[e];
        } catch (t) {}
      }(e = rn(t), an)) ? s : on ? nn(e) : "Object" == (i = nn(e)) && sn(e.callee) ? "Arguments" : i;
    },
    un = i.String,
    hn = function hn(t) {
      if ("Symbol" === ln(t)) throw TypeError("Cannot convert a Symbol value to a string");
      return un(t);
    },
    cn = Ns,
    dn = hn,
    pn = P,
    fn = i.RangeError,
    gn = function gn(t) {
      var e = dn(pn(this)),
        s = "",
        i = cn(t);
      if (i < 0 || i == 1 / 0) throw fn("Wrong number of repetitions");
      for (; i > 0; (i >>>= 1) && (e += e)) 1 & i && (s += e);
      return s;
    };
  Pi({
    target: "String",
    proto: !0
  }, {
    repeat: gn
  });
  var vn = A,
    mn = Gs,
    kn = hn,
    yn = P,
    bn = vn(gn),
    wn = vn("".slice),
    Cn = Math.ceil,
    An = function An(t) {
      return function (e, s, i) {
        var n,
          a,
          r = kn(yn(e)),
          o = mn(s),
          l = r.length,
          u = void 0 === i ? " " : kn(i);
        return o <= l || "" == u ? r : ((a = bn(u, Cn((n = o - l) / u.length))).length > n && (a = wn(a, 0, n)), t ? r + a : a + r);
      };
    },
    Sn = {
      start: An(!1),
      end: An(!0)
    },
    _n = /Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(G),
    En = Sn.start;
  Pi({
    target: "String",
    proto: !0,
    forced: _n
  }, {
    padStart: function padStart(t) {
      return En(this, t, arguments.length > 1 ? arguments[1] : void 0);
    }
  });
  var xn = Sn.end;
  function Fn(t) {
    return Fn = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (t) {
      return _typeof(t);
    } : function (t) {
      return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : _typeof(t);
    }, Fn(t);
  }
  function Dn(t, e) {
    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
  }
  function On(t, e) {
    for (var s = 0; s < e.length; s++) {
      var i = e[s];
      i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);
    }
  }
  function Bn(t, e, s) {
    return e && On(t.prototype, e), s && On(t, s), Object.defineProperty(t, "prototype", {
      writable: !1
    }), t;
  }
  function Tn(t, e) {
    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
    t.prototype = Object.create(e && e.prototype, {
      constructor: {
        value: t,
        writable: !0,
        configurable: !0
      }
    }), Object.defineProperty(t, "prototype", {
      writable: !1
    }), e && Mn(t, e);
  }
  function Ln(t) {
    return Ln = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {
      return t.__proto__ || Object.getPrototypeOf(t);
    }, Ln(t);
  }
  function Mn(t, e) {
    return Mn = Object.setPrototypeOf || function (t, e) {
      return t.__proto__ = e, t;
    }, Mn(t, e);
  }
  function Pn(t, e) {
    if (null == t) return {};
    var s,
      i,
      n = function (t, e) {
        if (null == t) return {};
        var s,
          i,
          n = {},
          a = Object.keys(t);
        for (i = 0; i < a.length; i++) s = a[i], e.indexOf(s) >= 0 || (n[s] = t[s]);
        return n;
      }(t, e);
    if (Object.getOwnPropertySymbols) {
      var a = Object.getOwnPropertySymbols(t);
      for (i = 0; i < a.length; i++) s = a[i], e.indexOf(s) >= 0 || Object.prototype.propertyIsEnumerable.call(t, s) && (n[s] = t[s]);
    }
    return n;
  }
  function In(t, e) {
    if (e && ("object" == _typeof(e) || "function" == typeof e)) return e;
    if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined");
    return function (t) {
      if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return t;
    }(t);
  }
  function Vn(t) {
    var e = function () {
      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
      if (Reflect.construct.sham) return !1;
      if ("function" == typeof Proxy) return !0;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;
      } catch (t) {
        return !1;
      }
    }();
    return function () {
      var s,
        i = Ln(t);
      if (e) {
        var n = Ln(this).constructor;
        s = Reflect.construct(i, arguments, n);
      } else s = i.apply(this, arguments);
      return In(this, s);
    };
  }
  function Rn(t, e) {
    for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Ln(t)););
    return t;
  }
  function jn() {
    return jn = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, s) {
      var i = Rn(t, e);
      if (i) {
        var n = Object.getOwnPropertyDescriptor(i, e);
        return n.get ? n.get.call(arguments.length < 3 ? t : s) : n.value;
      }
    }, jn.apply(this, arguments);
  }
  function Nn(t, e, s, i) {
    return Nn = "undefined" != typeof Reflect && Reflect.set ? Reflect.set : function (t, e, s, i) {
      var n,
        a = Rn(t, e);
      if (a) {
        if ((n = Object.getOwnPropertyDescriptor(a, e)).set) return n.set.call(i, s), !0;
        if (!n.writable) return !1;
      }
      if (n = Object.getOwnPropertyDescriptor(i, e)) {
        if (!n.writable) return !1;
        n.value = s, Object.defineProperty(i, e, n);
      } else !function (t, e, s) {
        e in t ? Object.defineProperty(t, e, {
          value: s,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }) : t[e] = s;
      }(i, e, s);
      return !0;
    }, Nn(t, e, s, i);
  }
  function Hn(t, e, s, i, n) {
    if (!Nn(t, e, s, i || t) && n) throw new Error("failed to set property");
    return s;
  }
  function Un(t, e) {
    return function (t) {
      if (Array.isArray(t)) return t;
    }(t) || function (t, e) {
      var s = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
      if (null == s) return;
      var i,
        n,
        a = [],
        r = !0,
        o = !1;
      try {
        for (s = s.call(t); !(r = (i = s.next()).done) && (a.push(i.value), !e || a.length !== e); r = !0);
      } catch (t) {
        o = !0, n = t;
      } finally {
        try {
          r || null == s["return"] || s["return"]();
        } finally {
          if (o) throw n;
        }
      }
      return a;
    }(t, e) || function (t, e) {
      if (!t) return;
      if ("string" == typeof t) return zn(t, e);
      var s = Object.prototype.toString.call(t).slice(8, -1);
      "Object" === s && t.constructor && (s = t.constructor.name);
      if ("Map" === s || "Set" === s) return Array.from(t);
      if ("Arguments" === s || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)) return zn(t, e);
    }(t, e) || function () {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function zn(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var s = 0, i = new Array(e); s < e; s++) i[s] = t[s];
    return i;
  }
  Pi({
    target: "String",
    proto: !0,
    forced: _n
  }, {
    padEnd: function padEnd(t) {
      return xn(this, t, arguments.length > 1 ? arguments[1] : void 0);
    }
  }), Pi({
    global: !0
  }, {
    globalThis: i
  });
  var qn = function () {
    function t(e) {
      Dn(this, t), Object.assign(this, {
        inserted: "",
        rawInserted: "",
        skip: !1,
        tailShift: 0
      }, e);
    }
    return Bn(t, [{
      key: "aggregate",
      value: function value(t) {
        return this.rawInserted += t.rawInserted, this.skip = this.skip || t.skip, this.inserted += t.inserted, this.tailShift += t.tailShift, this;
      }
    }, {
      key: "offset",
      get: function get() {
        return this.tailShift + this.inserted.length;
      }
    }]), t;
  }();
  function Yn(t) {
    return "string" == typeof t || t instanceof String;
  }
  var Gn = "NONE",
    Zn = "LEFT",
    $n = "FORCE_LEFT",
    Kn = "RIGHT",
    Wn = "FORCE_RIGHT";
  function Xn(t) {
    return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1");
  }
  function Jn(t) {
    return Array.isArray(t) ? t : [t, new qn()];
  }
  function Qn(t, e) {
    if (e === t) return !0;
    var s,
      i = Array.isArray(e),
      n = Array.isArray(t);
    if (i && n) {
      if (e.length != t.length) return !1;
      for (s = 0; s < e.length; s++) if (!Qn(e[s], t[s])) return !1;
      return !0;
    }
    if (i != n) return !1;
    if (e && t && "object" === Fn(e) && "object" === Fn(t)) {
      var a = e instanceof Date,
        r = t instanceof Date;
      if (a && r) return e.getTime() == t.getTime();
      if (a != r) return !1;
      var o = e instanceof RegExp,
        l = t instanceof RegExp;
      if (o && l) return e.toString() == t.toString();
      if (o != l) return !1;
      var u = Object.keys(e);
      for (s = 0; s < u.length; s++) if (!Object.prototype.hasOwnProperty.call(t, u[s])) return !1;
      for (s = 0; s < u.length; s++) if (!Qn(t[u[s]], e[u[s]])) return !1;
      return !0;
    }
    return !(!e || !t || "function" != typeof e || "function" != typeof t) && e.toString() === t.toString();
  }
  var ta = function () {
      function t(e, s, i, n) {
        for (Dn(this, t), this.value = e, this.cursorPos = s, this.oldValue = i, this.oldSelection = n; this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos);) --this.oldSelection.start;
      }
      return Bn(t, [{
        key: "startChangePos",
        get: function get() {
          return Math.min(this.cursorPos, this.oldSelection.start);
        }
      }, {
        key: "insertedCount",
        get: function get() {
          return this.cursorPos - this.startChangePos;
        }
      }, {
        key: "inserted",
        get: function get() {
          return this.value.substr(this.startChangePos, this.insertedCount);
        }
      }, {
        key: "removedCount",
        get: function get() {
          return Math.max(this.oldSelection.end - this.startChangePos || this.oldValue.length - this.value.length, 0);
        }
      }, {
        key: "removed",
        get: function get() {
          return this.oldValue.substr(this.startChangePos, this.removedCount);
        }
      }, {
        key: "head",
        get: function get() {
          return this.value.substring(0, this.startChangePos);
        }
      }, {
        key: "tail",
        get: function get() {
          return this.value.substring(this.startChangePos + this.insertedCount);
        }
      }, {
        key: "removeDirection",
        get: function get() {
          return !this.removedCount || this.insertedCount ? Gn : this.oldSelection.end !== this.cursorPos && this.oldSelection.start !== this.cursorPos || this.oldSelection.end !== this.oldSelection.start ? Zn : Kn;
        }
      }]), t;
    }(),
    ea = function () {
      function t() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
          s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
          i = arguments.length > 2 ? arguments[2] : void 0;
        Dn(this, t), this.value = e, this.from = s, this.stop = i;
      }
      return Bn(t, [{
        key: "toString",
        value: function value() {
          return this.value;
        }
      }, {
        key: "extend",
        value: function value(t) {
          this.value += String(t);
        }
      }, {
        key: "appendTo",
        value: function value(t) {
          return t.append(this.toString(), {
            tail: !0
          }).aggregate(t._appendPlaceholder());
        }
      }, {
        key: "state",
        get: function get() {
          return {
            value: this.value,
            from: this.from,
            stop: this.stop
          };
        },
        set: function set(t) {
          Object.assign(this, t);
        }
      }, {
        key: "unshift",
        value: function value(t) {
          if (!this.value.length || null != t && this.from >= t) return "";
          var e = this.value[0];
          return this.value = this.value.slice(1), e;
        }
      }, {
        key: "shift",
        value: function value() {
          if (!this.value.length) return "";
          var t = this.value[this.value.length - 1];
          return this.value = this.value.slice(0, -1), t;
        }
      }]), t;
    }();
  function sa(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    return new sa.InputMask(t, e);
  }
  var ia = function () {
    function t(e) {
      Dn(this, t), this._value = "", this._update(Object.assign({}, t.DEFAULTS, e)), this.isInitialized = !0;
    }
    return Bn(t, [{
      key: "updateOptions",
      value: function value(t) {
        Object.keys(t).length && this.withValueRefresh(this._update.bind(this, t));
      }
    }, {
      key: "_update",
      value: function value(t) {
        Object.assign(this, t);
      }
    }, {
      key: "state",
      get: function get() {
        return {
          _value: this.value
        };
      },
      set: function set(t) {
        this._value = t._value;
      }
    }, {
      key: "reset",
      value: function value() {
        this._value = "";
      }
    }, {
      key: "value",
      get: function get() {
        return this._value;
      },
      set: function set(t) {
        this.resolve(t);
      }
    }, {
      key: "resolve",
      value: function value(t) {
        return this.reset(), this.append(t, {
          input: !0
        }, ""), this.doCommit(), this.value;
      }
    }, {
      key: "unmaskedValue",
      get: function get() {
        return this.value;
      },
      set: function set(t) {
        this.reset(), this.append(t, {}, ""), this.doCommit();
      }
    }, {
      key: "typedValue",
      get: function get() {
        return this.doParse(this.value);
      },
      set: function set(t) {
        this.value = this.doFormat(t);
      }
    }, {
      key: "rawInputValue",
      get: function get() {
        return this.extractInput(0, this.value.length, {
          raw: !0
        });
      },
      set: function set(t) {
        this.reset(), this.append(t, {
          raw: !0
        }, ""), this.doCommit();
      }
    }, {
      key: "isComplete",
      get: function get() {
        return !0;
      }
    }, {
      key: "isFilled",
      get: function get() {
        return this.isComplete;
      }
    }, {
      key: "nearestInputPos",
      value: function value(t, e) {
        return t;
      }
    }, {
      key: "extractInput",
      value: function value() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
          e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length;
        return this.value.slice(t, e);
      }
    }, {
      key: "extractTail",
      value: function value() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
          e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length;
        return new ea(this.extractInput(t, e), t);
      }
    }, {
      key: "appendTail",
      value: function value(t) {
        return Yn(t) && (t = new ea(String(t))), t.appendTo(this);
      }
    }, {
      key: "_appendCharRaw",
      value: function value(t) {
        return t ? (this._value += t, new qn({
          inserted: t,
          rawInserted: t
        })) : new qn();
      }
    }, {
      key: "_appendChar",
      value: function value(t) {
        var e,
          s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
          i = arguments.length > 2 ? arguments[2] : void 0,
          n = this.state,
          a = Un(Jn(this.doPrepare(t, s)), 2);
        if (t = a[0], (e = (e = a[1]).aggregate(this._appendCharRaw(t, s))).inserted) {
          var r,
            o = !1 !== this.doValidate(s);
          if (o && null != i) {
            var l = this.state;
            !0 === this.overwrite && (r = i.state, i.unshift(this.value.length));
            var u = this.appendTail(i);
            (o = u.rawInserted === i.toString()) && u.inserted || "shift" !== this.overwrite || (this.state = l, r = i.state, i.shift(), o = (u = this.appendTail(i)).rawInserted === i.toString()), o && u.inserted && (this.state = l);
          }
          o || (e = new qn(), this.state = n, i && r && (i.state = r));
        }
        return e;
      }
    }, {
      key: "_appendPlaceholder",
      value: function value() {
        return new qn();
      }
    }, {
      key: "_appendEager",
      value: function value() {
        return new qn();
      }
    }, {
      key: "append",
      value: function value(t, e, s) {
        if (!Yn(t)) throw new Error("value should be string");
        var i = new qn(),
          n = Yn(s) ? new ea(String(s)) : s;
        e && e.tail && (e._beforeTailState = this.state);
        for (var a = 0; a < t.length; ++a) i.aggregate(this._appendChar(t[a], e, n));
        return null != n && (i.tailShift += this.appendTail(n).tailShift), this.eager && null != e && e.input && t && i.aggregate(this._appendEager()), i;
      }
    }, {
      key: "remove",
      value: function value() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
          e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length;
        return this._value = this.value.slice(0, t) + this.value.slice(e), new qn();
      }
    }, {
      key: "withValueRefresh",
      value: function value(t) {
        if (this._refreshing || !this.isInitialized) return t();
        this._refreshing = !0;
        var e = this.rawInputValue,
          s = this.value,
          i = t();
        return this.rawInputValue = e, this.value && this.value !== s && 0 === s.indexOf(this.value) && this.append(s.slice(this.value.length), {}, ""), delete this._refreshing, i;
      }
    }, {
      key: "runIsolated",
      value: function value(t) {
        if (this._isolated || !this.isInitialized) return t(this);
        this._isolated = !0;
        var e = this.state,
          s = t(this);
        return this.state = e, delete this._isolated, s;
      }
    }, {
      key: "doPrepare",
      value: function value(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        return this.prepare ? this.prepare(t, this, e) : t;
      }
    }, {
      key: "doValidate",
      value: function value(t) {
        return (!this.validate || this.validate(this.value, this, t)) && (!this.parent || this.parent.doValidate(t));
      }
    }, {
      key: "doCommit",
      value: function value() {
        this.commit && this.commit(this.value, this);
      }
    }, {
      key: "doFormat",
      value: function value(t) {
        return this.format ? this.format(t, this) : t;
      }
    }, {
      key: "doParse",
      value: function value(t) {
        return this.parse ? this.parse(t, this) : t;
      }
    }, {
      key: "splice",
      value: function value(t, e, s, i) {
        var n,
          a = t + e,
          r = this.extractTail(a);
        this.eager && (i = function (t) {
          switch (t) {
            case Zn:
              return $n;
            case Kn:
              return Wn;
            default:
              return t;
          }
        }(i), n = this.extractInput(0, a, {
          raw: !0
        }));
        var o = this.nearestInputPos(t, e > 1 && 0 !== t && !this.eager ? Gn : i),
          l = new qn({
            tailShift: o - t
          }).aggregate(this.remove(o));
        if (this.eager && i !== Gn && n === this.rawInputValue) if (i === $n) for (var u; n === this.rawInputValue && (u = this.value.length);) l.aggregate(new qn({
          tailShift: -1
        })).aggregate(this.remove(u - 1));else i === Wn && r.unshift();
        return l.aggregate(this.append(s, {
          input: !0
        }, r));
      }
    }, {
      key: "maskEquals",
      value: function value(t) {
        return this.mask === t;
      }
    }]), t;
  }();
  function na(t) {
    if (null == t) throw new Error("mask property should be defined");
    return t instanceof RegExp ? sa.MaskedRegExp : Yn(t) ? sa.MaskedPattern : t instanceof Date || t === Date ? sa.MaskedDate : t instanceof Number || "number" == typeof t || t === Number ? sa.MaskedNumber : Array.isArray(t) || t === Array ? sa.MaskedDynamic : sa.Masked && t.prototype instanceof sa.Masked ? t : t instanceof sa.Masked ? t.constructor : t instanceof Function ? sa.MaskedFunction : (console.warn("Mask not found for mask", t), sa.Masked);
  }
  function aa(t) {
    if (sa.Masked && t instanceof sa.Masked) return t;
    var e = (t = Object.assign({}, t)).mask;
    if (sa.Masked && e instanceof sa.Masked) return e;
    var s = na(e);
    if (!s) throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");
    return new s(t);
  }
  ia.DEFAULTS = {
    format: function format(t) {
      return t;
    },
    parse: function parse(t) {
      return t;
    }
  }, sa.Masked = ia, sa.createMask = aa;
  var ra = ["mask"],
    oa = {
      0: /\d/,
      a: /[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
      "*": /./
    },
    la = function () {
      function t(e) {
        Dn(this, t);
        var s = e.mask,
          i = Pn(e, ra);
        this.masked = aa({
          mask: s
        }), Object.assign(this, i);
      }
      return Bn(t, [{
        key: "reset",
        value: function value() {
          this.isFilled = !1, this.masked.reset();
        }
      }, {
        key: "remove",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length;
          return 0 === t && e >= 1 ? (this.isFilled = !1, this.masked.remove(t, e)) : new qn();
        }
      }, {
        key: "value",
        get: function get() {
          return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : "");
        }
      }, {
        key: "unmaskedValue",
        get: function get() {
          return this.masked.unmaskedValue;
        }
      }, {
        key: "isComplete",
        get: function get() {
          return Boolean(this.masked.value) || this.isOptional;
        }
      }, {
        key: "_appendChar",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          if (this.isFilled) return new qn();
          var s = this.masked.state,
            i = this.masked._appendChar(t, e);
          return i.inserted && !1 === this.doValidate(e) && (i.inserted = i.rawInserted = "", this.masked.state = s), i.inserted || this.isOptional || this.lazy || e.input || (i.inserted = this.placeholderChar), i.skip = !i.inserted && !this.isOptional, this.isFilled = Boolean(i.inserted), i;
        }
      }, {
        key: "append",
        value: function value() {
          var t;
          return (t = this.masked).append.apply(t, arguments);
        }
      }, {
        key: "_appendPlaceholder",
        value: function value() {
          var t = new qn();
          return this.isFilled || this.isOptional || (this.isFilled = !0, t.inserted = this.placeholderChar), t;
        }
      }, {
        key: "_appendEager",
        value: function value() {
          return new qn();
        }
      }, {
        key: "extractTail",
        value: function value() {
          var t;
          return (t = this.masked).extractTail.apply(t, arguments);
        }
      }, {
        key: "appendTail",
        value: function value() {
          var t;
          return (t = this.masked).appendTail.apply(t, arguments);
        }
      }, {
        key: "extractInput",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length,
            s = arguments.length > 2 ? arguments[2] : void 0;
          return this.masked.extractInput(t, e, s);
        }
      }, {
        key: "nearestInputPos",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Gn,
            s = this.value.length,
            i = Math.min(Math.max(t, 0), s);
          switch (e) {
            case Zn:
            case $n:
              return this.isComplete ? i : 0;
            case Kn:
            case Wn:
              return this.isComplete ? i : s;
            default:
              return i;
          }
        }
      }, {
        key: "doValidate",
        value: function value() {
          var t, e;
          return (t = this.masked).doValidate.apply(t, arguments) && (!this.parent || (e = this.parent).doValidate.apply(e, arguments));
        }
      }, {
        key: "doCommit",
        value: function value() {
          this.masked.doCommit();
        }
      }, {
        key: "state",
        get: function get() {
          return {
            masked: this.masked.state,
            isFilled: this.isFilled
          };
        },
        set: function set(t) {
          this.masked.state = t.masked, this.isFilled = t.isFilled;
        }
      }]), t;
    }(),
    ua = function () {
      function t(e) {
        Dn(this, t), Object.assign(this, e), this._value = "", this.isFixed = !0;
      }
      return Bn(t, [{
        key: "value",
        get: function get() {
          return this._value;
        }
      }, {
        key: "unmaskedValue",
        get: function get() {
          return this.isUnmasking ? this.value : "";
        }
      }, {
        key: "reset",
        value: function value() {
          this._isRawInput = !1, this._value = "";
        }
      }, {
        key: "remove",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._value.length;
          return this._value = this._value.slice(0, t) + this._value.slice(e), this._value || (this._isRawInput = !1), new qn();
        }
      }, {
        key: "nearestInputPos",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Gn,
            s = this._value.length;
          switch (e) {
            case Zn:
            case $n:
              return 0;
            default:
              return s;
          }
        }
      }, {
        key: "extractInput",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._value.length;
          return (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}).raw && this._isRawInput && this._value.slice(t, e) || "";
        }
      }, {
        key: "isComplete",
        get: function get() {
          return !0;
        }
      }, {
        key: "isFilled",
        get: function get() {
          return Boolean(this._value);
        }
      }, {
        key: "_appendChar",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            s = new qn();
          if (this._value) return s;
          var i = this["char"] === t && (this.isUnmasking || e.input || e.raw) && !this.eager && !e.tail;
          return i && (s.rawInserted = this["char"]), this._value = s.inserted = this["char"], this._isRawInput = i && (e.raw || e.input), s;
        }
      }, {
        key: "_appendEager",
        value: function value() {
          return this._appendChar(this["char"]);
        }
      }, {
        key: "_appendPlaceholder",
        value: function value() {
          var t = new qn();
          return this._value || (this._value = t.inserted = this["char"]), t;
        }
      }, {
        key: "extractTail",
        value: function value() {
          return arguments.length > 1 && void 0 !== arguments[1] || this.value.length, new ea("");
        }
      }, {
        key: "appendTail",
        value: function value(t) {
          return Yn(t) && (t = new ea(String(t))), t.appendTo(this);
        }
      }, {
        key: "append",
        value: function value(t, e, s) {
          var i = this._appendChar(t[0], e);
          return null != s && (i.tailShift += this.appendTail(s).tailShift), i;
        }
      }, {
        key: "doCommit",
        value: function value() {}
      }, {
        key: "state",
        get: function get() {
          return {
            _value: this._value,
            _isRawInput: this._isRawInput
          };
        },
        set: function set(t) {
          Object.assign(this, t);
        }
      }]), t;
    }(),
    ha = ["chunks"],
    ca = function () {
      function t() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
          s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        Dn(this, t), this.chunks = e, this.from = s;
      }
      return Bn(t, [{
        key: "toString",
        value: function value() {
          return this.chunks.map(String).join("");
        }
      }, {
        key: "extend",
        value: function value(e) {
          if (String(e)) {
            Yn(e) && (e = new ea(String(e)));
            var s = this.chunks[this.chunks.length - 1],
              i = s && (s.stop === e.stop || null == e.stop) && e.from === s.from + s.toString().length;
            if (e instanceof ea) i ? s.extend(e.toString()) : this.chunks.push(e);else if (e instanceof t) {
              if (null == e.stop) for (var n; e.chunks.length && null == e.chunks[0].stop;) (n = e.chunks.shift()).from += e.from, this.extend(n);
              e.toString() && (e.stop = e.blockIndex, this.chunks.push(e));
            }
          }
        }
      }, {
        key: "appendTo",
        value: function value(e) {
          if (!(e instanceof sa.MaskedPattern)) return new ea(this.toString()).appendTo(e);
          for (var s = new qn(), i = 0; i < this.chunks.length && !s.skip; ++i) {
            var n = this.chunks[i],
              a = e._mapPosToBlock(e.value.length),
              r = n.stop,
              o = void 0;
            if (null != r && (!a || a.index <= r) && ((n instanceof t || e._stops.indexOf(r) >= 0) && s.aggregate(e._appendPlaceholder(r)), o = n instanceof t && e._blocks[r]), o) {
              var l = o.appendTail(n);
              l.skip = !1, s.aggregate(l), e._value += l.inserted;
              var u = n.toString().slice(l.rawInserted.length);
              u && s.aggregate(e.append(u, {
                tail: !0
              }));
            } else s.aggregate(e.append(n.toString(), {
              tail: !0
            }));
          }
          return s;
        }
      }, {
        key: "state",
        get: function get() {
          return {
            chunks: this.chunks.map(function (t) {
              return t.state;
            }),
            from: this.from,
            stop: this.stop,
            blockIndex: this.blockIndex
          };
        },
        set: function set(e) {
          var s = e.chunks,
            i = Pn(e, ha);
          Object.assign(this, i), this.chunks = s.map(function (e) {
            var s = "chunks" in e ? new t() : new ea();
            return s.state = e, s;
          });
        }
      }, {
        key: "unshift",
        value: function value(t) {
          if (!this.chunks.length || null != t && this.from >= t) return "";
          for (var e = null != t ? t - this.from : t, s = 0; s < this.chunks.length;) {
            var i = this.chunks[s],
              n = i.unshift(e);
            if (i.toString()) {
              if (!n) break;
              ++s;
            } else this.chunks.splice(s, 1);
            if (n) return n;
          }
          return "";
        }
      }, {
        key: "shift",
        value: function value() {
          if (!this.chunks.length) return "";
          for (var t = this.chunks.length - 1; 0 <= t;) {
            var e = this.chunks[t],
              s = e.shift();
            if (e.toString()) {
              if (!s) break;
              --t;
            } else this.chunks.splice(t, 1);
            if (s) return s;
          }
          return "";
        }
      }]), t;
    }(),
    da = function () {
      function t(e, s) {
        Dn(this, t), this.masked = e, this._log = [];
        var i = e._mapPosToBlock(s) || (s < 0 ? {
            index: 0,
            offset: 0
          } : {
            index: this.masked._blocks.length,
            offset: 0
          }),
          n = i.offset,
          a = i.index;
        this.offset = n, this.index = a, this.ok = !1;
      }
      return Bn(t, [{
        key: "block",
        get: function get() {
          return this.masked._blocks[this.index];
        }
      }, {
        key: "pos",
        get: function get() {
          return this.masked._blockStartPos(this.index) + this.offset;
        }
      }, {
        key: "state",
        get: function get() {
          return {
            index: this.index,
            offset: this.offset,
            ok: this.ok
          };
        },
        set: function set(t) {
          Object.assign(this, t);
        }
      }, {
        key: "pushState",
        value: function value() {
          this._log.push(this.state);
        }
      }, {
        key: "popState",
        value: function value() {
          var t = this._log.pop();
          return this.state = t, t;
        }
      }, {
        key: "bindBlock",
        value: function value() {
          this.block || (this.index < 0 && (this.index = 0, this.offset = 0), this.index >= this.masked._blocks.length && (this.index = this.masked._blocks.length - 1, this.offset = this.block.value.length));
        }
      }, {
        key: "_pushLeft",
        value: function value(t) {
          for (this.pushState(), this.bindBlock(); 0 <= this.index; --this.index, this.offset = (null === (e = this.block) || void 0 === e ? void 0 : e.value.length) || 0) {
            var e;
            if (t()) return this.ok = !0;
          }
          return this.ok = !1;
        }
      }, {
        key: "_pushRight",
        value: function value(t) {
          for (this.pushState(), this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) if (t()) return this.ok = !0;
          return this.ok = !1;
        }
      }, {
        key: "pushLeftBeforeFilled",
        value: function value() {
          var t = this;
          return this._pushLeft(function () {
            if (!t.block.isFixed && t.block.value) return t.offset = t.block.nearestInputPos(t.offset, $n), 0 !== t.offset || void 0;
          });
        }
      }, {
        key: "pushLeftBeforeInput",
        value: function value() {
          var t = this;
          return this._pushLeft(function () {
            if (!t.block.isFixed) return t.offset = t.block.nearestInputPos(t.offset, Zn), !0;
          });
        }
      }, {
        key: "pushLeftBeforeRequired",
        value: function value() {
          var t = this;
          return this._pushLeft(function () {
            if (!(t.block.isFixed || t.block.isOptional && !t.block.value)) return t.offset = t.block.nearestInputPos(t.offset, Zn), !0;
          });
        }
      }, {
        key: "pushRightBeforeFilled",
        value: function value() {
          var t = this;
          return this._pushRight(function () {
            if (!t.block.isFixed && t.block.value) return t.offset = t.block.nearestInputPos(t.offset, Wn), t.offset !== t.block.value.length || void 0;
          });
        }
      }, {
        key: "pushRightBeforeInput",
        value: function value() {
          var t = this;
          return this._pushRight(function () {
            if (!t.block.isFixed) return t.offset = t.block.nearestInputPos(t.offset, Gn), !0;
          });
        }
      }, {
        key: "pushRightBeforeRequired",
        value: function value() {
          var t = this;
          return this._pushRight(function () {
            if (!(t.block.isFixed || t.block.isOptional && !t.block.value)) return t.offset = t.block.nearestInputPos(t.offset, Gn), !0;
          });
        }
      }]), t;
    }(),
    pa = function (t) {
      Tn(s, t);
      var e = Vn(s);
      function s() {
        return Dn(this, s), e.apply(this, arguments);
      }
      return Bn(s, [{
        key: "_update",
        value: function value(t) {
          t.mask && (t.validate = function (e) {
            return e.search(t.mask) >= 0;
          }), jn(Ln(s.prototype), "_update", this).call(this, t);
        }
      }]), s;
    }(ia);
  sa.MaskedRegExp = pa;
  var fa = ["_blocks"],
    ga = function (t) {
      Tn(s, t);
      var e = Vn(s);
      function s() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        return Dn(this, s), t.definitions = Object.assign({}, oa, t.definitions), e.call(this, Object.assign({}, s.DEFAULTS, t));
      }
      return Bn(s, [{
        key: "_update",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          t.definitions = Object.assign({}, this.definitions, t.definitions), jn(Ln(s.prototype), "_update", this).call(this, t), this._rebuildMask();
        }
      }, {
        key: "_rebuildMask",
        value: function value() {
          var t = this,
            e = this.definitions;
          this._blocks = [], this._stops = [], this._maskedBlocks = {};
          var i = this.mask;
          if (i && e) for (var n = !1, a = !1, r = 0; r < i.length; ++r) {
            if (this.blocks) if ("continue" === function () {
              var e = i.slice(r),
                s = Object.keys(t.blocks).filter(function (t) {
                  return 0 === e.indexOf(t);
                });
              s.sort(function (t, e) {
                return e.length - t.length;
              });
              var n = s[0];
              if (n) {
                var a = aa(Object.assign({
                  parent: t,
                  lazy: t.lazy,
                  eager: t.eager,
                  placeholderChar: t.placeholderChar,
                  overwrite: t.overwrite
                }, t.blocks[n]));
                return a && (t._blocks.push(a), t._maskedBlocks[n] || (t._maskedBlocks[n] = []), t._maskedBlocks[n].push(t._blocks.length - 1)), r += n.length - 1, "continue";
              }
            }()) continue;
            var o = i[r],
              l = (o in e);
            if (o !== s.STOP_CHAR) {
              if ("{" !== o && "}" !== o) {
                if ("[" !== o && "]" !== o) {
                  if (o === s.ESCAPE_CHAR) {
                    if (++r, !(o = i[r])) break;
                    l = !1;
                  }
                  var u = l ? new la({
                    parent: this,
                    lazy: this.lazy,
                    eager: this.eager,
                    placeholderChar: this.placeholderChar,
                    mask: e[o],
                    isOptional: a
                  }) : new ua({
                    "char": o,
                    eager: this.eager,
                    isUnmasking: n
                  });
                  this._blocks.push(u);
                } else a = !a;
              } else n = !n;
            } else this._stops.push(this._blocks.length);
          }
        }
      }, {
        key: "state",
        get: function get() {
          return Object.assign({}, jn(Ln(s.prototype), "state", this), {
            _blocks: this._blocks.map(function (t) {
              return t.state;
            })
          });
        },
        set: function set(t) {
          var e = t._blocks,
            i = Pn(t, fa);
          this._blocks.forEach(function (t, s) {
            return t.state = e[s];
          }), Hn(Ln(s.prototype), "state", i, this, !0);
        }
      }, {
        key: "reset",
        value: function value() {
          jn(Ln(s.prototype), "reset", this).call(this), this._blocks.forEach(function (t) {
            return t.reset();
          });
        }
      }, {
        key: "isComplete",
        get: function get() {
          return this._blocks.every(function (t) {
            return t.isComplete;
          });
        }
      }, {
        key: "isFilled",
        get: function get() {
          return this._blocks.every(function (t) {
            return t.isFilled;
          });
        }
      }, {
        key: "isFixed",
        get: function get() {
          return this._blocks.every(function (t) {
            return t.isFixed;
          });
        }
      }, {
        key: "isOptional",
        get: function get() {
          return this._blocks.every(function (t) {
            return t.isOptional;
          });
        }
      }, {
        key: "doCommit",
        value: function value() {
          this._blocks.forEach(function (t) {
            return t.doCommit();
          }), jn(Ln(s.prototype), "doCommit", this).call(this);
        }
      }, {
        key: "unmaskedValue",
        get: function get() {
          return this._blocks.reduce(function (t, e) {
            return t + e.unmaskedValue;
          }, "");
        },
        set: function set(t) {
          Hn(Ln(s.prototype), "unmaskedValue", t, this, !0);
        }
      }, {
        key: "value",
        get: function get() {
          return this._blocks.reduce(function (t, e) {
            return t + e.value;
          }, "");
        },
        set: function set(t) {
          Hn(Ln(s.prototype), "value", t, this, !0);
        }
      }, {
        key: "appendTail",
        value: function value(t) {
          return jn(Ln(s.prototype), "appendTail", this).call(this, t).aggregate(this._appendPlaceholder());
        }
      }, {
        key: "_appendEager",
        value: function value() {
          var t,
            e = new qn(),
            s = null === (t = this._mapPosToBlock(this.value.length)) || void 0 === t ? void 0 : t.index;
          if (null == s) return e;
          this._blocks[s].isFilled && ++s;
          for (var i = s; i < this._blocks.length; ++i) {
            var n = this._blocks[i]._appendEager();
            if (!n.inserted) break;
            e.aggregate(n);
          }
          return e;
        }
      }, {
        key: "_appendCharRaw",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            s = this._mapPosToBlock(this.value.length),
            i = new qn();
          if (!s) return i;
          for (var n = s.index;; ++n) {
            var a,
              r = this._blocks[n];
            if (!r) break;
            var o = r._appendChar(t, Object.assign({}, e, {
                _beforeTailState: null === (a = e._beforeTailState) || void 0 === a ? void 0 : a._blocks[n]
              })),
              l = o.skip;
            if (i.aggregate(o), l || o.rawInserted) break;
          }
          return i;
        }
      }, {
        key: "extractTail",
        value: function value() {
          var t = this,
            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length,
            i = new ca();
          return e === s || this._forEachBlocksInRange(e, s, function (e, s, n, a) {
            var r = e.extractTail(n, a);
            r.stop = t._findStopBefore(s), r.from = t._blockStartPos(s), r instanceof ca && (r.blockIndex = s), i.extend(r);
          }), i;
        }
      }, {
        key: "extractInput",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length,
            s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          if (t === e) return "";
          var i = "";
          return this._forEachBlocksInRange(t, e, function (t, e, n, a) {
            i += t.extractInput(n, a, s);
          }), i;
        }
      }, {
        key: "_findStopBefore",
        value: function value(t) {
          for (var e, s = 0; s < this._stops.length; ++s) {
            var i = this._stops[s];
            if (!(i <= t)) break;
            e = i;
          }
          return e;
        }
      }, {
        key: "_appendPlaceholder",
        value: function value(t) {
          var e = this,
            s = new qn();
          if (this.lazy && null == t) return s;
          var i = this._mapPosToBlock(this.value.length);
          if (!i) return s;
          var n = i.index,
            a = null != t ? t : this._blocks.length;
          return this._blocks.slice(n, a).forEach(function (i) {
            if (!i.lazy || null != t) {
              var n = null != i._blocks ? [i._blocks.length] : [],
                a = i._appendPlaceholder.apply(i, n);
              e._value += a.inserted, s.aggregate(a);
            }
          }), s;
        }
      }, {
        key: "_mapPosToBlock",
        value: function value(t) {
          for (var e = "", s = 0; s < this._blocks.length; ++s) {
            var i = this._blocks[s],
              n = e.length;
            if (t <= (e += i.value).length) return {
              index: s,
              offset: t - n
            };
          }
        }
      }, {
        key: "_blockStartPos",
        value: function value(t) {
          return this._blocks.slice(0, t).reduce(function (t, e) {
            return t + e.value.length;
          }, 0);
        }
      }, {
        key: "_forEachBlocksInRange",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length,
            s = arguments.length > 2 ? arguments[2] : void 0,
            i = this._mapPosToBlock(t);
          if (i) {
            var n = this._mapPosToBlock(e),
              a = n && i.index === n.index,
              r = i.offset,
              o = n && a ? n.offset : this._blocks[i.index].value.length;
            if (s(this._blocks[i.index], i.index, r, o), n && !a) {
              for (var l = i.index + 1; l < n.index; ++l) s(this._blocks[l], l, 0, this._blocks[l].value.length);
              s(this._blocks[n.index], n.index, 0, n.offset);
            }
          }
        }
      }, {
        key: "remove",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length,
            i = jn(Ln(s.prototype), "remove", this).call(this, t, e);
          return this._forEachBlocksInRange(t, e, function (t, e, s, n) {
            i.aggregate(t.remove(s, n));
          }), i;
        }
      }, {
        key: "nearestInputPos",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Gn;
          if (!this._blocks.length) return 0;
          var s = new da(this, t);
          if (e === Gn) return s.pushRightBeforeInput() ? s.pos : (s.popState(), s.pushLeftBeforeInput() ? s.pos : this.value.length);
          if (e === Zn || e === $n) {
            if (e === Zn) {
              if (s.pushRightBeforeFilled(), s.ok && s.pos === t) return t;
              s.popState();
            }
            if (s.pushLeftBeforeInput(), s.pushLeftBeforeRequired(), s.pushLeftBeforeFilled(), e === Zn) {
              if (s.pushRightBeforeInput(), s.pushRightBeforeRequired(), s.ok && s.pos <= t) return s.pos;
              if (s.popState(), s.ok && s.pos <= t) return s.pos;
              s.popState();
            }
            return s.ok ? s.pos : e === $n ? 0 : (s.popState(), s.ok ? s.pos : (s.popState(), s.ok ? s.pos : 0));
          }
          return e === Kn || e === Wn ? (s.pushRightBeforeInput(), s.pushRightBeforeRequired(), s.pushRightBeforeFilled() ? s.pos : e === Wn ? this.value.length : (s.popState(), s.ok ? s.pos : (s.popState(), s.ok ? s.pos : this.nearestInputPos(t, Zn)))) : t;
        }
      }, {
        key: "maskedBlock",
        value: function value(t) {
          return this.maskedBlocks(t)[0];
        }
      }, {
        key: "maskedBlocks",
        value: function value(t) {
          var e = this,
            s = this._maskedBlocks[t];
          return s ? s.map(function (t) {
            return e._blocks[t];
          }) : [];
        }
      }]), s;
    }(ia);
  ga.DEFAULTS = {
    lazy: !0,
    placeholderChar: "_"
  }, ga.STOP_CHAR = "`", ga.ESCAPE_CHAR = "\\", ga.InputDefinition = la, ga.FixedDefinition = ua, sa.MaskedPattern = ga;
  var va = function (t) {
    Tn(s, t);
    var e = Vn(s);
    function s() {
      return Dn(this, s), e.apply(this, arguments);
    }
    return Bn(s, [{
      key: "_matchFrom",
      get: function get() {
        return this.maxLength - String(this.from).length;
      }
    }, {
      key: "_update",
      value: function value(t) {
        t = Object.assign({
          to: this.to || 0,
          from: this.from || 0,
          maxLength: this.maxLength || 0
        }, t);
        var e = String(t.to).length;
        null != t.maxLength && (e = Math.max(e, t.maxLength)), t.maxLength = e;
        for (var i = String(t.from).padStart(e, "0"), n = String(t.to).padStart(e, "0"), a = 0; a < n.length && n[a] === i[a];) ++a;
        t.mask = n.slice(0, a).replace(/0/g, "\\0") + "0".repeat(e - a), jn(Ln(s.prototype), "_update", this).call(this, t);
      }
    }, {
      key: "isComplete",
      get: function get() {
        return jn(Ln(s.prototype), "isComplete", this) && Boolean(this.value);
      }
    }, {
      key: "boundaries",
      value: function value(t) {
        var e = "",
          s = "",
          i = Un(t.match(/^(\D*)(\d*)(\D*)/) || [], 3),
          n = i[1],
          a = i[2];
        return a && (e = "0".repeat(n.length) + a, s = "9".repeat(n.length) + a), [e = e.padEnd(this.maxLength, "0"), s = s.padEnd(this.maxLength, "9")];
      }
    }, {
      key: "doPrepare",
      value: function value(t) {
        var e,
          i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
          n = Un(Jn(jn(Ln(s.prototype), "doPrepare", this).call(this, t.replace(/\D/g, ""), i)), 2);
        if (t = n[0], e = n[1], !this.autofix || !t) return t;
        var a = String(this.from).padStart(this.maxLength, "0"),
          r = String(this.to).padStart(this.maxLength, "0"),
          o = this.value + t;
        if (o.length > this.maxLength) return "";
        var l = Un(this.boundaries(o), 2),
          u = l[0],
          h = l[1];
        return Number(h) < this.from ? a[o.length - 1] : Number(u) > this.to ? "pad" === this.autofix && o.length < this.maxLength ? ["", e.aggregate(this.append(a[o.length - 1] + t, i))] : r[o.length - 1] : t;
      }
    }, {
      key: "doValidate",
      value: function value() {
        var t,
          e = this.value;
        if (-1 === e.search(/[^0]/) && e.length <= this._matchFrom) return !0;
        for (var i = Un(this.boundaries(e), 2), n = i[0], a = i[1], r = arguments.length, o = new Array(r), l = 0; l < r; l++) o[l] = arguments[l];
        return this.from <= Number(a) && Number(n) <= this.to && (t = jn(Ln(s.prototype), "doValidate", this)).call.apply(t, [this].concat(o));
      }
    }]), s;
  }(ga);
  sa.MaskedRange = va;
  var ma = function (t) {
    Tn(s, t);
    var e = Vn(s);
    function s(t) {
      return Dn(this, s), e.call(this, Object.assign({}, s.DEFAULTS, t));
    }
    return Bn(s, [{
      key: "_update",
      value: function value(t) {
        t.mask === Date && delete t.mask, t.pattern && (t.mask = t.pattern);
        var e = t.blocks;
        t.blocks = Object.assign({}, s.GET_DEFAULT_BLOCKS()), t.min && (t.blocks.Y.from = t.min.getFullYear()), t.max && (t.blocks.Y.to = t.max.getFullYear()), t.min && t.max && t.blocks.Y.from === t.blocks.Y.to && (t.blocks.m.from = t.min.getMonth() + 1, t.blocks.m.to = t.max.getMonth() + 1, t.blocks.m.from === t.blocks.m.to && (t.blocks.d.from = t.min.getDate(), t.blocks.d.to = t.max.getDate())), Object.assign(t.blocks, this.blocks, e), Object.keys(t.blocks).forEach(function (e) {
          var s = t.blocks[e];
          !("autofix" in s) && "autofix" in t && (s.autofix = t.autofix);
        }), jn(Ln(s.prototype), "_update", this).call(this, t);
      }
    }, {
      key: "doValidate",
      value: function value() {
        for (var t, e = this.date, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
        return (t = jn(Ln(s.prototype), "doValidate", this)).call.apply(t, [this].concat(n)) && (!this.isComplete || this.isDateExist(this.value) && null != e && (null == this.min || this.min <= e) && (null == this.max || e <= this.max));
      }
    }, {
      key: "isDateExist",
      value: function value(t) {
        return this.format(this.parse(t, this), this).indexOf(t) >= 0;
      }
    }, {
      key: "date",
      get: function get() {
        return this.typedValue;
      },
      set: function set(t) {
        this.typedValue = t;
      }
    }, {
      key: "typedValue",
      get: function get() {
        return this.isComplete ? jn(Ln(s.prototype), "typedValue", this) : null;
      },
      set: function set(t) {
        Hn(Ln(s.prototype), "typedValue", t, this, !0);
      }
    }, {
      key: "maskEquals",
      value: function value(t) {
        return t === Date || jn(Ln(s.prototype), "maskEquals", this).call(this, t);
      }
    }]), s;
  }(ga);
  ma.DEFAULTS = {
    pattern: "d{.}`m{.}`Y",
    format: function format(t) {
      return t ? [String(t.getDate()).padStart(2, "0"), String(t.getMonth() + 1).padStart(2, "0"), t.getFullYear()].join(".") : "";
    },
    parse: function parse(t) {
      var e = Un(t.split("."), 3),
        s = e[0],
        i = e[1],
        n = e[2];
      return new Date(n, i - 1, s);
    }
  }, ma.GET_DEFAULT_BLOCKS = function () {
    return {
      d: {
        mask: va,
        from: 1,
        to: 31,
        maxLength: 2
      },
      m: {
        mask: va,
        from: 1,
        to: 12,
        maxLength: 2
      },
      Y: {
        mask: va,
        from: 1900,
        to: 9999
      }
    };
  }, sa.MaskedDate = ma;
  var ka = function () {
    function t() {
      Dn(this, t);
    }
    return Bn(t, [{
      key: "selectionStart",
      get: function get() {
        var t;
        try {
          t = this._unsafeSelectionStart;
        } catch (t) {}
        return null != t ? t : this.value.length;
      }
    }, {
      key: "selectionEnd",
      get: function get() {
        var t;
        try {
          t = this._unsafeSelectionEnd;
        } catch (t) {}
        return null != t ? t : this.value.length;
      }
    }, {
      key: "select",
      value: function value(t, e) {
        if (null != t && null != e && (t !== this.selectionStart || e !== this.selectionEnd)) try {
          this._unsafeSelect(t, e);
        } catch (t) {}
      }
    }, {
      key: "_unsafeSelect",
      value: function value(t, e) {}
    }, {
      key: "isActive",
      get: function get() {
        return !1;
      }
    }, {
      key: "bindEvents",
      value: function value(t) {}
    }, {
      key: "unbindEvents",
      value: function value() {}
    }]), t;
  }();
  sa.MaskElement = ka;
  var ya = function (t) {
    Tn(s, t);
    var e = Vn(s);
    function s(t) {
      var i;
      return Dn(this, s), (i = e.call(this)).input = t, i._handlers = {}, i;
    }
    return Bn(s, [{
      key: "rootElement",
      get: function get() {
        var t, e, s;
        return null !== (t = null === (e = (s = this.input).getRootNode) || void 0 === e ? void 0 : e.call(s)) && void 0 !== t ? t : document;
      }
    }, {
      key: "isActive",
      get: function get() {
        return this.input === this.rootElement.activeElement;
      }
    }, {
      key: "_unsafeSelectionStart",
      get: function get() {
        return this.input.selectionStart;
      }
    }, {
      key: "_unsafeSelectionEnd",
      get: function get() {
        return this.input.selectionEnd;
      }
    }, {
      key: "_unsafeSelect",
      value: function value(t, e) {
        this.input.setSelectionRange(t, e);
      }
    }, {
      key: "value",
      get: function get() {
        return this.input.value;
      },
      set: function set(t) {
        this.input.value = t;
      }
    }, {
      key: "bindEvents",
      value: function value(t) {
        var e = this;
        Object.keys(t).forEach(function (i) {
          return e._toggleEventHandler(s.EVENTS_MAP[i], t[i]);
        });
      }
    }, {
      key: "unbindEvents",
      value: function value() {
        var t = this;
        Object.keys(this._handlers).forEach(function (e) {
          return t._toggleEventHandler(e);
        });
      }
    }, {
      key: "_toggleEventHandler",
      value: function value(t, e) {
        this._handlers[t] && (this.input.removeEventListener(t, this._handlers[t]), delete this._handlers[t]), e && (this.input.addEventListener(t, e), this._handlers[t] = e);
      }
    }]), s;
  }(ka);
  ya.EVENTS_MAP = {
    selectionChange: "keydown",
    input: "input",
    drop: "drop",
    click: "click",
    focus: "focus",
    commit: "blur"
  }, sa.HTMLMaskElement = ya;
  var ba = function (t) {
    Tn(s, t);
    var e = Vn(s);
    function s() {
      return Dn(this, s), e.apply(this, arguments);
    }
    return Bn(s, [{
      key: "_unsafeSelectionStart",
      get: function get() {
        var t = this.rootElement,
          e = t.getSelection && t.getSelection(),
          s = e && e.anchorOffset,
          i = e && e.focusOffset;
        return null == i || null == s || s < i ? s : i;
      }
    }, {
      key: "_unsafeSelectionEnd",
      get: function get() {
        var t = this.rootElement,
          e = t.getSelection && t.getSelection(),
          s = e && e.anchorOffset,
          i = e && e.focusOffset;
        return null == i || null == s || s > i ? s : i;
      }
    }, {
      key: "_unsafeSelect",
      value: function value(t, e) {
        if (this.rootElement.createRange) {
          var s = this.rootElement.createRange();
          s.setStart(this.input.firstChild || this.input, t), s.setEnd(this.input.lastChild || this.input, e);
          var i = this.rootElement,
            n = i.getSelection && i.getSelection();
          n && (n.removeAllRanges(), n.addRange(s));
        }
      }
    }, {
      key: "value",
      get: function get() {
        return this.input.textContent;
      },
      set: function set(t) {
        this.input.textContent = t;
      }
    }]), s;
  }(ya);
  sa.HTMLContenteditableMaskElement = ba;
  var wa = ["mask"],
    Ca = function () {
      function t(e, s) {
        Dn(this, t), this.el = e instanceof ka ? e : e.isContentEditable && "INPUT" !== e.tagName && "TEXTAREA" !== e.tagName ? new ba(e) : new ya(e), this.masked = aa(s), this._listeners = {}, this._value = "", this._unmaskedValue = "", this._saveSelection = this._saveSelection.bind(this), this._onInput = this._onInput.bind(this), this._onChange = this._onChange.bind(this), this._onDrop = this._onDrop.bind(this), this._onFocus = this._onFocus.bind(this), this._onClick = this._onClick.bind(this), this.alignCursor = this.alignCursor.bind(this), this.alignCursorFriendly = this.alignCursorFriendly.bind(this), this._bindEvents(), this.updateValue(), this._onChange();
      }
      return Bn(t, [{
        key: "mask",
        get: function get() {
          return this.masked.mask;
        },
        set: function set(t) {
          if (!this.maskEquals(t)) if (t instanceof sa.Masked || this.masked.constructor !== na(t)) {
            var e = aa({
              mask: t
            });
            e.unmaskedValue = this.masked.unmaskedValue, this.masked = e;
          } else this.masked.updateOptions({
            mask: t
          });
        }
      }, {
        key: "maskEquals",
        value: function value(t) {
          var e;
          return null == t || (null === (e = this.masked) || void 0 === e ? void 0 : e.maskEquals(t));
        }
      }, {
        key: "value",
        get: function get() {
          return this._value;
        },
        set: function set(t) {
          this.masked.value = t, this.updateControl(), this.alignCursor();
        }
      }, {
        key: "unmaskedValue",
        get: function get() {
          return this._unmaskedValue;
        },
        set: function set(t) {
          this.masked.unmaskedValue = t, this.updateControl(), this.alignCursor();
        }
      }, {
        key: "typedValue",
        get: function get() {
          return this.masked.typedValue;
        },
        set: function set(t) {
          this.masked.typedValue = t, this.updateControl(), this.alignCursor();
        }
      }, {
        key: "_bindEvents",
        value: function value() {
          this.el.bindEvents({
            selectionChange: this._saveSelection,
            input: this._onInput,
            drop: this._onDrop,
            click: this._onClick,
            focus: this._onFocus,
            commit: this._onChange
          });
        }
      }, {
        key: "_unbindEvents",
        value: function value() {
          this.el && this.el.unbindEvents();
        }
      }, {
        key: "_fireEvent",
        value: function value(t) {
          for (var e = arguments.length, s = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++) s[i - 1] = arguments[i];
          var n = this._listeners[t];
          n && n.forEach(function (t) {
            return t.apply(void 0, s);
          });
        }
      }, {
        key: "selectionStart",
        get: function get() {
          return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;
        }
      }, {
        key: "cursorPos",
        get: function get() {
          return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;
        },
        set: function set(t) {
          this.el && this.el.isActive && (this.el.select(t, t), this._saveSelection());
        }
      }, {
        key: "_saveSelection",
        value: function value() {
          this.value !== this.el.value && console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."), this._selection = {
            start: this.selectionStart,
            end: this.cursorPos
          };
        }
      }, {
        key: "updateValue",
        value: function value() {
          this.masked.value = this.el.value, this._value = this.masked.value;
        }
      }, {
        key: "updateControl",
        value: function value() {
          var t = this.masked.unmaskedValue,
            e = this.masked.value,
            s = this.unmaskedValue !== t || this.value !== e;
          this._unmaskedValue = t, this._value = e, this.el.value !== e && (this.el.value = e), s && this._fireChangeEvents();
        }
      }, {
        key: "updateOptions",
        value: function value(t) {
          var e = t.mask,
            s = Pn(t, wa),
            i = !this.maskEquals(e),
            n = !Qn(this.masked, s);
          i && (this.mask = e), n && this.masked.updateOptions(s), (i || n) && this.updateControl();
        }
      }, {
        key: "updateCursor",
        value: function value(t) {
          null != t && (this.cursorPos = t, this._delayUpdateCursor(t));
        }
      }, {
        key: "_delayUpdateCursor",
        value: function value(t) {
          var e = this;
          this._abortUpdateCursor(), this._changingCursorPos = t, this._cursorChanging = setTimeout(function () {
            e.el && (e.cursorPos = e._changingCursorPos, e._abortUpdateCursor());
          }, 10);
        }
      }, {
        key: "_fireChangeEvents",
        value: function value() {
          this._fireEvent("accept", this._inputEvent), this.masked.isComplete && this._fireEvent("complete", this._inputEvent);
        }
      }, {
        key: "_abortUpdateCursor",
        value: function value() {
          this._cursorChanging && (clearTimeout(this._cursorChanging), delete this._cursorChanging);
        }
      }, {
        key: "alignCursor",
        value: function value() {
          this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, Zn));
        }
      }, {
        key: "alignCursorFriendly",
        value: function value() {
          this.selectionStart === this.cursorPos && this.alignCursor();
        }
      }, {
        key: "on",
        value: function value(t, e) {
          return this._listeners[t] || (this._listeners[t] = []), this._listeners[t].push(e), this;
        }
      }, {
        key: "off",
        value: function value(t, e) {
          if (!this._listeners[t]) return this;
          if (!e) return delete this._listeners[t], this;
          var s = this._listeners[t].indexOf(e);
          return s >= 0 && this._listeners[t].splice(s, 1), this;
        }
      }, {
        key: "_onInput",
        value: function value(t) {
          if (this._inputEvent = t, this._abortUpdateCursor(), !this._selection) return this.updateValue();
          var e = new ta(this.el.value, this.cursorPos, this.value, this._selection),
            s = this.masked.rawInputValue,
            i = this.masked.splice(e.startChangePos, e.removed.length, e.inserted, e.removeDirection).offset,
            n = s === this.masked.rawInputValue ? e.removeDirection : Gn,
            a = this.masked.nearestInputPos(e.startChangePos + i, n);
          n !== Gn && (a = this.masked.nearestInputPos(a, Gn)), this.updateControl(), this.updateCursor(a), delete this._inputEvent;
        }
      }, {
        key: "_onChange",
        value: function value() {
          this.value !== this.el.value && this.updateValue(), this.masked.doCommit(), this.updateControl(), this._saveSelection();
        }
      }, {
        key: "_onDrop",
        value: function value(t) {
          t.preventDefault(), t.stopPropagation();
        }
      }, {
        key: "_onFocus",
        value: function value(t) {
          this.alignCursorFriendly();
        }
      }, {
        key: "_onClick",
        value: function value(t) {
          this.alignCursorFriendly();
        }
      }, {
        key: "destroy",
        value: function value() {
          this._unbindEvents(), this._listeners.length = 0, delete this.el;
        }
      }]), t;
    }();
  sa.InputMask = Ca;
  var Aa = function (t) {
    Tn(s, t);
    var e = Vn(s);
    function s() {
      return Dn(this, s), e.apply(this, arguments);
    }
    return Bn(s, [{
      key: "_update",
      value: function value(t) {
        t["enum"] && (t.mask = "*".repeat(t["enum"][0].length)), jn(Ln(s.prototype), "_update", this).call(this, t);
      }
    }, {
      key: "doValidate",
      value: function value() {
        for (var t, e = this, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
        return this["enum"].some(function (t) {
          return t.indexOf(e.unmaskedValue) >= 0;
        }) && (t = jn(Ln(s.prototype), "doValidate", this)).call.apply(t, [this].concat(n));
      }
    }]), s;
  }(ga);
  sa.MaskedEnum = Aa;
  var Sa = function (t) {
    Tn(s, t);
    var e = Vn(s);
    function s(t) {
      return Dn(this, s), e.call(this, Object.assign({}, s.DEFAULTS, t));
    }
    return Bn(s, [{
      key: "_update",
      value: function value(t) {
        jn(Ln(s.prototype), "_update", this).call(this, t), this._updateRegExps();
      }
    }, {
      key: "_updateRegExps",
      value: function value() {
        var t = "^" + (this.allowNegative ? "[+|\\-]?" : ""),
          e = (this.scale ? "(" + Xn(this.radix) + "\\d{0," + this.scale + "})?" : "") + "$";
        this._numberRegExpInput = new RegExp(t + "(0|([1-9]+\\d*))?" + e), this._numberRegExp = new RegExp(t + "\\d*" + e), this._mapToRadixRegExp = new RegExp("[" + this.mapToRadix.map(Xn).join("") + "]", "g"), this._thousandsSeparatorRegExp = new RegExp(Xn(this.thousandsSeparator), "g");
      }
    }, {
      key: "_removeThousandsSeparators",
      value: function value(t) {
        return t.replace(this._thousandsSeparatorRegExp, "");
      }
    }, {
      key: "_insertThousandsSeparators",
      value: function value(t) {
        var e = t.split(this.radix);
        return e[0] = e[0].replace(/\B(?=(\d{3})+(?!\d))/g, this.thousandsSeparator), e.join(this.radix);
      }
    }, {
      key: "doPrepare",
      value: function value(t) {
        var e;
        t = t.replace(this._mapToRadixRegExp, this.radix);
        for (var i = this._removeThousandsSeparators(t), n = arguments.length, a = new Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++) a[r - 1] = arguments[r];
        var o = Un(Jn((e = jn(Ln(s.prototype), "doPrepare", this)).call.apply(e, [this, i].concat(a))), 2),
          l = o[0],
          u = o[1];
        return t && !i && (u.skip = !0), [l, u];
      }
    }, {
      key: "_separatorsCount",
      value: function value(t) {
        for (var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], s = 0, i = 0; i < t; ++i) this._value.indexOf(this.thousandsSeparator, i) === i && (++s, e && (t += this.thousandsSeparator.length));
        return s;
      }
    }, {
      key: "_separatorsCountFromSlice",
      value: function value() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._value;
        return this._separatorsCount(this._removeThousandsSeparators(t).length, !0);
      }
    }, {
      key: "extractInput",
      value: function value() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
          e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length,
          i = arguments.length > 2 ? arguments[2] : void 0,
          n = Un(this._adjustRangeWithSeparators(t, e), 2);
        return t = n[0], e = n[1], this._removeThousandsSeparators(jn(Ln(s.prototype), "extractInput", this).call(this, t, e, i));
      }
    }, {
      key: "_appendCharRaw",
      value: function value(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (!this.thousandsSeparator) return jn(Ln(s.prototype), "_appendCharRaw", this).call(this, t, e);
        var i = e.tail && e._beforeTailState ? e._beforeTailState._value : this._value,
          n = this._separatorsCountFromSlice(i);
        this._value = this._removeThousandsSeparators(this.value);
        var a = jn(Ln(s.prototype), "_appendCharRaw", this).call(this, t, e);
        this._value = this._insertThousandsSeparators(this._value);
        var r = e.tail && e._beforeTailState ? e._beforeTailState._value : this._value,
          o = this._separatorsCountFromSlice(r);
        return a.tailShift += (o - n) * this.thousandsSeparator.length, a.skip = !a.rawInserted && t === this.thousandsSeparator, a;
      }
    }, {
      key: "_findSeparatorAround",
      value: function value(t) {
        if (this.thousandsSeparator) {
          var e = t - this.thousandsSeparator.length + 1,
            s = this.value.indexOf(this.thousandsSeparator, e);
          if (s <= t) return s;
        }
        return -1;
      }
    }, {
      key: "_adjustRangeWithSeparators",
      value: function value(t, e) {
        var s = this._findSeparatorAround(t);
        s >= 0 && (t = s);
        var i = this._findSeparatorAround(e);
        return i >= 0 && (e = i + this.thousandsSeparator.length), [t, e];
      }
    }, {
      key: "remove",
      value: function value() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
          e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.value.length,
          s = Un(this._adjustRangeWithSeparators(t, e), 2);
        t = s[0], e = s[1];
        var i = this.value.slice(0, t),
          n = this.value.slice(e),
          a = this._separatorsCount(i.length);
        this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(i + n));
        var r = this._separatorsCountFromSlice(i);
        return new qn({
          tailShift: (r - a) * this.thousandsSeparator.length
        });
      }
    }, {
      key: "nearestInputPos",
      value: function value(t, e) {
        if (!this.thousandsSeparator) return t;
        switch (e) {
          case Gn:
          case Zn:
          case $n:
            var s = this._findSeparatorAround(t - 1);
            if (s >= 0) {
              var i = s + this.thousandsSeparator.length;
              if (t < i || this.value.length <= i || e === $n) return s;
            }
            break;
          case Kn:
          case Wn:
            var n = this._findSeparatorAround(t);
            if (n >= 0) return n + this.thousandsSeparator.length;
        }
        return t;
      }
    }, {
      key: "doValidate",
      value: function value(t) {
        var e = (t.input ? this._numberRegExpInput : this._numberRegExp).test(this._removeThousandsSeparators(this.value));
        if (e) {
          var i = this.number;
          e = e && !isNaN(i) && (null == this.min || this.min >= 0 || this.min <= this.number) && (null == this.max || this.max <= 0 || this.number <= this.max);
        }
        return e && jn(Ln(s.prototype), "doValidate", this).call(this, t);
      }
    }, {
      key: "doCommit",
      value: function value() {
        if (this.value) {
          var t = this.number,
            e = t;
          null != this.min && (e = Math.max(e, this.min)), null != this.max && (e = Math.min(e, this.max)), e !== t && (this.unmaskedValue = String(e));
          var i = this.value;
          this.normalizeZeros && (i = this._normalizeZeros(i)), this.padFractionalZeros && this.scale > 0 && (i = this._padFractionalZeros(i)), this._value = i;
        }
        jn(Ln(s.prototype), "doCommit", this).call(this);
      }
    }, {
      key: "_normalizeZeros",
      value: function value(t) {
        var e = this._removeThousandsSeparators(t).split(this.radix);
        return e[0] = e[0].replace(/^(\D*)(0*)(\d*)/, function (t, e, s, i) {
          return e + i;
        }), t.length && !/\d$/.test(e[0]) && (e[0] = e[0] + "0"), e.length > 1 && (e[1] = e[1].replace(/0*$/, ""), e[1].length || (e.length = 1)), this._insertThousandsSeparators(e.join(this.radix));
      }
    }, {
      key: "_padFractionalZeros",
      value: function value(t) {
        if (!t) return t;
        var e = t.split(this.radix);
        return e.length < 2 && e.push(""), e[1] = e[1].padEnd(this.scale, "0"), e.join(this.radix);
      }
    }, {
      key: "unmaskedValue",
      get: function get() {
        return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, ".");
      },
      set: function set(t) {
        Hn(Ln(s.prototype), "unmaskedValue", t.replace(".", this.radix), this, !0);
      }
    }, {
      key: "typedValue",
      get: function get() {
        return Number(this.unmaskedValue);
      },
      set: function set(t) {
        Hn(Ln(s.prototype), "unmaskedValue", String(t), this, !0);
      }
    }, {
      key: "number",
      get: function get() {
        return this.typedValue;
      },
      set: function set(t) {
        this.typedValue = t;
      }
    }, {
      key: "allowNegative",
      get: function get() {
        return this.signed || null != this.min && this.min < 0 || null != this.max && this.max < 0;
      }
    }]), s;
  }(ia);
  Sa.DEFAULTS = {
    radix: ",",
    thousandsSeparator: "",
    mapToRadix: ["."],
    scale: 2,
    signed: !1,
    normalizeZeros: !0,
    padFractionalZeros: !1
  }, sa.MaskedNumber = Sa;
  var _a = function (t) {
    Tn(s, t);
    var e = Vn(s);
    function s() {
      return Dn(this, s), e.apply(this, arguments);
    }
    return Bn(s, [{
      key: "_update",
      value: function value(t) {
        t.mask && (t.validate = t.mask), jn(Ln(s.prototype), "_update", this).call(this, t);
      }
    }]), s;
  }(ia);
  sa.MaskedFunction = _a;
  var Ea = ["compiledMasks", "currentMaskRef", "currentMask"],
    xa = function (t) {
      Tn(s, t);
      var e = Vn(s);
      function s(t) {
        var i;
        return Dn(this, s), (i = e.call(this, Object.assign({}, s.DEFAULTS, t))).currentMask = null, i;
      }
      return Bn(s, [{
        key: "_update",
        value: function value(t) {
          jn(Ln(s.prototype), "_update", this).call(this, t), "mask" in t && (this.compiledMasks = Array.isArray(t.mask) ? t.mask.map(function (t) {
            return aa(t);
          }) : []);
        }
      }, {
        key: "_appendCharRaw",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            s = this._applyDispatch(t, e);
          return this.currentMask && s.aggregate(this.currentMask._appendChar(t, e)), s;
        }
      }, {
        key: "_applyDispatch",
        value: function value() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            s = e.tail && null != e._beforeTailState ? e._beforeTailState._value : this.value,
            i = this.rawInputValue,
            n = e.tail && null != e._beforeTailState ? e._beforeTailState._rawInputValue : i,
            a = i.slice(n.length),
            r = this.currentMask,
            o = new qn(),
            l = r && r.state;
          if (this.currentMask = this.doDispatch(t, Object.assign({}, e)), this.currentMask) if (this.currentMask !== r) {
            if (this.currentMask.reset(), n) {
              var u = this.currentMask.append(n, {
                raw: !0
              });
              o.tailShift = u.inserted.length - s.length;
            }
            a && (o.tailShift += this.currentMask.append(a, {
              raw: !0,
              tail: !0
            }).tailShift);
          } else this.currentMask.state = l;
          return o;
        }
      }, {
        key: "_appendPlaceholder",
        value: function value() {
          var t = this._applyDispatch.apply(this, arguments);
          return this.currentMask && t.aggregate(this.currentMask._appendPlaceholder()), t;
        }
      }, {
        key: "_appendEager",
        value: function value() {
          var t = this._applyDispatch.apply(this, arguments);
          return this.currentMask && t.aggregate(this.currentMask._appendEager()), t;
        }
      }, {
        key: "doDispatch",
        value: function value(t) {
          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return this.dispatch(t, this, e);
        }
      }, {
        key: "doValidate",
        value: function value() {
          for (var t, e, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
          return (t = jn(Ln(s.prototype), "doValidate", this)).call.apply(t, [this].concat(n)) && (!this.currentMask || (e = this.currentMask).doValidate.apply(e, n));
        }
      }, {
        key: "reset",
        value: function value() {
          var t;
          null === (t = this.currentMask) || void 0 === t || t.reset(), this.compiledMasks.forEach(function (t) {
            return t.reset();
          });
        }
      }, {
        key: "value",
        get: function get() {
          return this.currentMask ? this.currentMask.value : "";
        },
        set: function set(t) {
          Hn(Ln(s.prototype), "value", t, this, !0);
        }
      }, {
        key: "unmaskedValue",
        get: function get() {
          return this.currentMask ? this.currentMask.unmaskedValue : "";
        },
        set: function set(t) {
          Hn(Ln(s.prototype), "unmaskedValue", t, this, !0);
        }
      }, {
        key: "typedValue",
        get: function get() {
          return this.currentMask ? this.currentMask.typedValue : "";
        },
        set: function set(t) {
          var e = String(t);
          this.currentMask && (this.currentMask.typedValue = t, e = this.currentMask.unmaskedValue), this.unmaskedValue = e;
        }
      }, {
        key: "isComplete",
        get: function get() {
          var t;
          return Boolean(null === (t = this.currentMask) || void 0 === t ? void 0 : t.isComplete);
        }
      }, {
        key: "isFilled",
        get: function get() {
          var t;
          return Boolean(null === (t = this.currentMask) || void 0 === t ? void 0 : t.isFilled);
        }
      }, {
        key: "remove",
        value: function value() {
          var t,
            e = new qn();
          this.currentMask && e.aggregate((t = this.currentMask).remove.apply(t, arguments)).aggregate(this._applyDispatch());
          return e;
        }
      }, {
        key: "state",
        get: function get() {
          return Object.assign({}, jn(Ln(s.prototype), "state", this), {
            _rawInputValue: this.rawInputValue,
            compiledMasks: this.compiledMasks.map(function (t) {
              return t.state;
            }),
            currentMaskRef: this.currentMask,
            currentMask: this.currentMask && this.currentMask.state
          });
        },
        set: function set(t) {
          var e = t.compiledMasks,
            i = t.currentMaskRef,
            n = t.currentMask,
            a = Pn(t, Ea);
          this.compiledMasks.forEach(function (t, s) {
            return t.state = e[s];
          }), null != i && (this.currentMask = i, this.currentMask.state = n), Hn(Ln(s.prototype), "state", a, this, !0);
        }
      }, {
        key: "extractInput",
        value: function value() {
          var t;
          return this.currentMask ? (t = this.currentMask).extractInput.apply(t, arguments) : "";
        }
      }, {
        key: "extractTail",
        value: function value() {
          for (var t, e, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
          return this.currentMask ? (t = this.currentMask).extractTail.apply(t, n) : (e = jn(Ln(s.prototype), "extractTail", this)).call.apply(e, [this].concat(n));
        }
      }, {
        key: "doCommit",
        value: function value() {
          this.currentMask && this.currentMask.doCommit(), jn(Ln(s.prototype), "doCommit", this).call(this);
        }
      }, {
        key: "nearestInputPos",
        value: function value() {
          for (var t, e, i = arguments.length, n = new Array(i), a = 0; a < i; a++) n[a] = arguments[a];
          return this.currentMask ? (t = this.currentMask).nearestInputPos.apply(t, n) : (e = jn(Ln(s.prototype), "nearestInputPos", this)).call.apply(e, [this].concat(n));
        }
      }, {
        key: "overwrite",
        get: function get() {
          return this.currentMask ? this.currentMask.overwrite : jn(Ln(s.prototype), "overwrite", this);
        },
        set: function set(t) {
          console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings');
        }
      }, {
        key: "eager",
        get: function get() {
          return this.currentMask ? this.currentMask.eager : jn(Ln(s.prototype), "eager", this);
        },
        set: function set(t) {
          console.warn('"eager" option is not available in dynamic mask, use this option in siblings');
        }
      }, {
        key: "maskEquals",
        value: function value(t) {
          return Array.isArray(t) && this.compiledMasks.every(function (e, s) {
            var i;
            return e.maskEquals(null === (i = t[s]) || void 0 === i ? void 0 : i.mask);
          });
        }
      }]), s;
    }(ia);
  xa.DEFAULTS = {
    dispatch: function dispatch(t, e, s) {
      if (e.compiledMasks.length) {
        var i = e.rawInputValue,
          n = e.compiledMasks.map(function (e, n) {
            return e.reset(), e.append(i, {
              raw: !0
            }), e.append(t, s), {
              weight: e.rawInputValue.length,
              index: n
            };
          });
        return n.sort(function (t, e) {
          return e.weight - t.weight;
        }), e.compiledMasks[n[0].index];
      }
    }
  }, sa.MaskedDynamic = xa;
  var Fa = {
    MASKED: "value",
    UNMASKED: "unmaskedValue",
    TYPED: "typedValue"
  };
  function Da(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Fa.MASKED,
      s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Fa.MASKED,
      i = aa(t);
    return function (t) {
      return i.runIsolated(function (i) {
        return i[e] = t, i[s];
      });
    };
  }
  function Oa(t) {
    for (var e = arguments.length, s = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++) s[i - 1] = arguments[i];
    return Da.apply(void 0, s)(t);
  }
  sa.PIPE_TYPE = Fa, sa.createPipe = Da, sa.pipe = Oa;
  try {
    globalThis.IMask = sa;
  } catch (t) {}
  t.HTMLContenteditableMaskElement = ba, t.HTMLMaskElement = ya, t.InputMask = Ca, t.MaskElement = ka, t.Masked = ia, t.MaskedDate = ma, t.MaskedDynamic = xa, t.MaskedEnum = Aa, t.MaskedFunction = _a, t.MaskedNumber = Sa, t.MaskedPattern = ga, t.MaskedRange = va, t.MaskedRegExp = pa, t.PIPE_TYPE = Fa, t.createMask = aa, t.createPipe = Da, t["default"] = sa, t.pipe = Oa, Object.defineProperty(t, "__esModule", {
    value: !0
  });
}), function (t, e) {
  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).SlimSelect = e();
}(void 0, function () {
  "use strict";

  function t() {
    return Math.random().toString(36).substring(2, 10);
  }
  function e(t) {
    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;
    var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
    var i;
    return function () {
      for (var _len = arguments.length, n = new Array(_len), _key = 0; _key < _len; _key++) {
        n[_key] = arguments[_key];
      }
      var a = self,
        r = s && !i;
      clearTimeout(i), i = setTimeout(function () {
        i = null, s || t.apply(a, n);
      }, e), r && t.apply(a, n);
    };
  }
  function s(t, e) {
    return JSON.stringify(t) === JSON.stringify(e);
  }
  var i = /*#__PURE__*/_createClass(function i(e) {
    _classCallCheck(this, i);
    this.id = "", this.style = "", this["class"] = [], this.isMultiple = !1, this.isOpen = !1, this.isFullOpen = !1, this.intervalMove = null, e || (e = {}), this.id = "ss-" + t(), this.style = e.style || "", this["class"] = e["class"] || [], this.disabled = void 0 !== e.disabled && e.disabled, this.alwaysOpen = void 0 !== e.alwaysOpen && e.alwaysOpen, this.showSearch = void 0 === e.showSearch || e.showSearch, this.searchPlaceholder = e.searchPlaceholder || "Search", this.searchText = e.searchText || "No Results", this.searchingText = e.searchingText || "Searching...", this.searchHighlight = void 0 !== e.searchHighlight && e.searchHighlight, this.closeOnSelect = void 0 === e.closeOnSelect || e.closeOnSelect, this.contentLocation = e.contentLocation || document.body, this.contentPosition = e.contentPosition || "absolute", this.openPosition = e.openPosition || "auto", this.placeholderText = void 0 !== e.placeholderText ? e.placeholderText : "Select Value", this.allowDeselect = void 0 !== e.allowDeselect && e.allowDeselect, this.hideSelected = void 0 !== e.hideSelected && e.hideSelected, this.showOptionTooltips = void 0 !== e.showOptionTooltips && e.showOptionTooltips, this.minSelected = e.minSelected || 0, this.maxSelected = e.maxSelected || 1e3, this.timeoutDelay = e.timeoutDelay || 200, this.maxValuesShown = e.maxValuesShown || 20, this.maxValuesMessage = e.maxValuesMessage || "{number} selected";
  });
  var n = /*#__PURE__*/_createClass(function n(e) {
    _classCallCheck(this, n);
    if (this.id = e.id && "" !== e.id ? e.id : t(), this.label = e.label || "", this.selectAll = void 0 !== e.selectAll && e.selectAll, this.selectAllText = e.selectAllText || "Select All", this.closable = e.closable || "off", this.options = [], e.options) {
      var _iterator = _createForOfIteratorHelper(e.options),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var _t2 = _step.value;
          this.options.push(new a(_t2));
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
  });
  var a = /*#__PURE__*/_createClass(function a(e) {
    _classCallCheck(this, a);
    this.id = e.id && "" !== e.id ? e.id : t(), this.value = void 0 === e.value ? e.text : e.value, this.text = e.text || "", this.html = e.html || "", this.selected = void 0 !== e.selected && e.selected, this.display = void 0 === e.display || e.display, this.disabled = void 0 !== e.disabled && e.disabled, this.mandatory = void 0 !== e.mandatory && e.mandatory, this.placeholder = void 0 !== e.placeholder && e.placeholder, this["class"] = e["class"] || "", this.style = e.style || "", this.data = e.data || {};
  });
  var r = /*#__PURE__*/function () {
    function r(t, e) {
      _classCallCheck(this, r);
      this.selectType = "single", this.data = [], this.selectType = t, this.setData(e);
    }
    return _createClass(r, [{
      key: "validateDataArray",
      value: function validateDataArray(t) {
        if (!Array.isArray(t)) return new Error("Data must be an array");
        var _iterator2 = _createForOfIteratorHelper(t),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var _e2 = _step2.value;
            if (!(_e2 instanceof n || "label" in _e2)) return _e2 instanceof a || "text" in _e2 ? this.validateOption(_e2) : new Error("Data object must be a valid optgroup or option");
            if (!("label" in _e2)) return new Error("Optgroup must have a label");
            if ("options" in _e2 && _e2.options) {
              var _iterator3 = _createForOfIteratorHelper(_e2.options),
                _step3;
              try {
                for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
                  var _t3 = _step3.value;
                  return this.validateOption(_t3);
                }
              } catch (err) {
                _iterator3.e(err);
              } finally {
                _iterator3.f();
              }
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
        return null;
      }
    }, {
      key: "validateOption",
      value: function validateOption(t) {
        return "text" in t ? null : new Error("Option must have a text");
      }
    }, {
      key: "partialToFullData",
      value: function partialToFullData(t) {
        var e = [];
        return t.forEach(function (t) {
          if (t instanceof n || "label" in t) {
            var _s2 = [];
            "options" in t && t.options && t.options.forEach(function (t) {
              _s2.push(new a(t));
            }), _s2.length > 0 && e.push(new n(t));
          }
          (t instanceof a || "text" in t) && e.push(new a(t));
        }), e;
      }
    }, {
      key: "setData",
      value: function setData(t) {
        this.data = this.partialToFullData(t), "single" === this.selectType && this.setSelectedBy("value", this.getSelected());
      }
    }, {
      key: "getData",
      value: function getData() {
        return this.filter(null, !0);
      }
    }, {
      key: "getDataOptions",
      value: function getDataOptions() {
        return this.filter(null, !1);
      }
    }, {
      key: "addOption",
      value: function addOption(t) {
        this.setData(this.getData().concat(new a(t)));
      }
    }, {
      key: "setSelectedBy",
      value: function setSelectedBy(t, e) {
        var s = null,
          i = !1;
        var _iterator4 = _createForOfIteratorHelper(this.data),
          _step4;
        try {
          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
            var _r = _step4.value;
            if (_r instanceof n) {
              var _iterator5 = _createForOfIteratorHelper(_r.options),
                _step5;
              try {
                for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
                  var _n2 = _step5.value;
                  s || (s = _n2), _n2.selected = !i && e.includes(_n2[t]), _n2.selected && "single" === this.selectType && (i = !0);
                }
              } catch (err) {
                _iterator5.e(err);
              } finally {
                _iterator5.f();
              }
            }
            _r instanceof a && (s || (s = _r), _r.selected = !i && e.includes(_r[t]), _r.selected && "single" === this.selectType && (i = !0));
          }
        } catch (err) {
          _iterator4.e(err);
        } finally {
          _iterator4.f();
        }
        "single" === this.selectType && s && !i && (s.selected = !0);
      }
    }, {
      key: "getSelected",
      value: function getSelected() {
        var t = this.getSelectedOptions(),
          e = [];
        return t.forEach(function (t) {
          e.push(t.value);
        }), e;
      }
    }, {
      key: "getSelectedOptions",
      value: function getSelectedOptions() {
        return this.filter(function (t) {
          return t.selected;
        }, !1);
      }
    }, {
      key: "getSelectedIDs",
      value: function getSelectedIDs() {
        var t = this.getSelectedOptions(),
          e = [];
        return t.forEach(function (t) {
          e.push(t.id);
        }), e;
      }
    }, {
      key: "getOptgroupByID",
      value: function getOptgroupByID(t) {
        var _iterator6 = _createForOfIteratorHelper(this.data),
          _step6;
        try {
          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
            var _e3 = _step6.value;
            if (_e3 instanceof n && _e3.id === t) return _e3;
          }
        } catch (err) {
          _iterator6.e(err);
        } finally {
          _iterator6.f();
        }
        return null;
      }
    }, {
      key: "getOptionByID",
      value: function getOptionByID(t) {
        var e = this.filter(function (e) {
          return e.id === t;
        }, !1);
        return e.length ? e[0] : null;
      }
    }, {
      key: "search",
      value: function search(t, e) {
        return "" === (t = t.trim()) ? this.getData() : this.filter(function (s) {
          return e(s, t);
        }, !0);
      }
    }, {
      key: "filter",
      value: function filter(t, e) {
        var s = [];
        return this.data.forEach(function (i) {
          if (i instanceof n) {
            var _r2 = [];
            if (i.options.forEach(function (i) {
              t && !t(i) || (e ? _r2.push(new a(i)) : s.push(new a(i)));
            }), _r2.length > 0) {
              var _t4 = new n(i);
              _t4.options = _r2, s.push(_t4);
            }
          }
          i instanceof a && (t && !t(i) || s.push(new a(i)));
        }), s;
      }
    }, {
      key: "getSelectType",
      value: function getSelectType() {
        return this.selectType;
      }
    }]);
  }();
  var o = /*#__PURE__*/function () {
    function o(t, e, s) {
      _classCallCheck(this, o);
      this.classes = {
        main: "ss-main",
        placeholder: "ss-placeholder",
        values: "ss-values",
        single: "ss-single",
        max: "ss-max",
        value: "ss-value",
        valueText: "ss-value-text",
        valueDelete: "ss-value-delete",
        valueOut: "ss-value-out",
        deselect: "ss-deselect",
        deselectPath: "M10,10 L90,90 M10,90 L90,10",
        arrow: "ss-arrow",
        arrowClose: "M10,30 L50,70 L90,30",
        arrowOpen: "M10,70 L50,30 L90,70",
        content: "ss-content",
        openAbove: "ss-open-above",
        openBelow: "ss-open-below",
        search: "ss-search",
        searchHighlighter: "ss-search-highlight",
        searching: "ss-searching",
        addable: "ss-addable",
        addablePath: "M50,10 L50,90 M10,50 L90,50",
        list: "ss-list",
        optgroup: "ss-optgroup",
        optgroupLabel: "ss-optgroup-label",
        optgroupLabelText: "ss-optgroup-label-text",
        optgroupActions: "ss-optgroup-actions",
        optgroupSelectAll: "ss-selectall",
        optgroupSelectAllBox: "M60,10 L10,10 L10,90 L90,90 L90,50",
        optgroupSelectAllCheck: "M30,45 L50,70 L90,10",
        optgroupClosable: "ss-closable",
        option: "ss-option",
        optionDelete: "M10,10 L90,90 M10,90 L90,10",
        highlighted: "ss-highlighted",
        open: "ss-open",
        close: "ss-close",
        selected: "ss-selected",
        error: "ss-error",
        disabled: "ss-disabled",
        hide: "ss-hide"
      }, this.store = e, this.settings = t, this.callbacks = s, this.main = this.mainDiv(), this.content = this.contentDiv(), this.updateClassStyles(), this.updateAriaAttributes(), this.settings.contentLocation.appendChild(this.content.main);
    }
    return _createClass(o, [{
      key: "enable",
      value: function enable() {
        this.main.main.classList.remove(this.classes.disabled), this.content.search.input.disabled = !1;
      }
    }, {
      key: "disable",
      value: function disable() {
        this.main.main.classList.add(this.classes.disabled), this.content.search.input.disabled = !0;
      }
    }, {
      key: "open",
      value: function open() {
        this.main.arrow.path.setAttribute("d", this.classes.arrowOpen), this.main.main.classList.add("up" === this.settings.openPosition ? this.classes.openAbove : this.classes.openBelow), this.main.main.setAttribute("aria-expanded", "true"), this.moveContent();
        var t = this.store.getSelectedOptions();
        if (t.length) {
          var _e4 = t[t.length - 1].id,
            _s3 = this.content.list.querySelector('[data-id="' + _e4 + '"]');
          _s3 && this.ensureElementInView(this.content.list, _s3);
        }
      }
    }, {
      key: "close",
      value: function close() {
        this.main.main.classList.remove(this.classes.openAbove), this.main.main.classList.remove(this.classes.openBelow), this.main.main.setAttribute("aria-expanded", "false"), this.content.main.classList.remove(this.classes.openAbove), this.content.main.classList.remove(this.classes.openBelow), this.main.arrow.path.setAttribute("d", this.classes.arrowClose);
      }
    }, {
      key: "updateClassStyles",
      value: function updateClassStyles() {
        if (this.main.main.className = "", this.main.main.removeAttribute("style"), this.content.main.className = "", this.content.main.removeAttribute("style"), this.main.main.classList.add(this.classes.main), this.content.main.classList.add(this.classes.content), "" !== this.settings.style && (this.main.main.style.cssText = this.settings.style, this.content.main.style.cssText = this.settings.style), this.settings["class"].length) {
          var _iterator7 = _createForOfIteratorHelper(this.settings["class"]),
            _step7;
          try {
            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
              var _t5 = _step7.value;
              "" !== _t5.trim() && (this.main.main.classList.add(_t5.trim()), this.content.main.classList.add(_t5.trim()));
            }
          } catch (err) {
            _iterator7.e(err);
          } finally {
            _iterator7.f();
          }
        }
        "relative" === this.settings.contentPosition && this.content.main.classList.add("ss-" + this.settings.contentPosition);
      }
    }, {
      key: "updateAriaAttributes",
      value: function updateAriaAttributes() {
        this.main.main.role = "combobox", this.main.main.setAttribute("aria-haspopup", "listbox"), this.main.main.setAttribute("aria-controls", this.content.main.id), this.main.main.setAttribute("aria-expanded", "false"), this.content.main.setAttribute("role", "listbox");
      }
    }, {
      key: "mainDiv",
      value: function mainDiv() {
        var _this = this;
        var t;
        var e = document.createElement("div");
        e.dataset.id = this.settings.id, e.id = this.settings.id, e.tabIndex = 0, e.onkeydown = function (t) {
          switch (t.key) {
            case "ArrowUp":
            case "ArrowDown":
              return _this.callbacks.open(), "ArrowDown" === t.key ? _this.highlight("down") : _this.highlight("up"), !1;
            case "Tab":
              return _this.callbacks.close(), !0;
            case "Enter":
            case " ":
              _this.callbacks.open();
              var _e5 = _this.content.list.querySelector("." + _this.classes.highlighted);
              return _e5 && _e5.click(), !1;
            case "Escape":
              return _this.callbacks.close(), !1;
          }
        }, e.onclick = function (t) {
          _this.settings.disabled || (_this.settings.isOpen ? _this.callbacks.close() : _this.callbacks.open());
        };
        var s = document.createElement("div");
        s.classList.add(this.classes.values), e.appendChild(s);
        var i = document.createElement("div");
        i.classList.add(this.classes.deselect);
        var n = null === (t = this.store) || void 0 === t ? void 0 : t.getSelectedOptions();
        !this.settings.allowDeselect || this.settings.isMultiple && n && n.length <= 0 ? i.classList.add(this.classes.hide) : i.classList.remove(this.classes.hide), i.onclick = function (t) {
          if (t.stopPropagation(), _this.settings.disabled) return;
          var e = !0;
          var s = _this.store.getSelectedOptions(),
            i = [];
          _this.callbacks.beforeChange && (e = !0 === _this.callbacks.beforeChange(i, s)), e && (_this.settings.isMultiple ? (_this.callbacks.setSelected([], !1), _this.updateDeselectAll()) : _this.callbacks.setSelected([""], !1), _this.settings.closeOnSelect && _this.callbacks.close(), _this.callbacks.afterChange && _this.callbacks.afterChange(i));
        };
        var a = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        a.setAttribute("viewBox", "0 0 100 100");
        var r = document.createElementNS("http://www.w3.org/2000/svg", "path");
        r.setAttribute("d", this.classes.deselectPath), a.appendChild(r), i.appendChild(a), e.appendChild(i);
        var _o = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        _o.classList.add(this.classes.arrow), _o.setAttribute("viewBox", "0 0 100 100");
        var l = document.createElementNS("http://www.w3.org/2000/svg", "path");
        return l.setAttribute("d", this.classes.arrowClose), this.settings.alwaysOpen && _o.classList.add(this.classes.hide), _o.appendChild(l), e.appendChild(_o), {
          main: e,
          values: s,
          deselect: {
            main: i,
            svg: a,
            path: r
          },
          arrow: {
            main: _o,
            path: l
          }
        };
      }
    }, {
      key: "mainFocus",
      value: function mainFocus(t) {
        "click" !== t && this.main.main.focus({
          preventScroll: !0
        });
      }
    }, {
      key: "placeholder",
      value: function placeholder() {
        var t = this.store.filter(function (t) {
          return t.placeholder;
        }, !1);
        var e = this.settings.placeholderText;
        t.length && ("" !== t[0].html ? e = t[0].html : "" !== t[0].text && (e = t[0].text));
        var s = document.createElement("div");
        return s.classList.add(this.classes.placeholder), s.innerHTML = e, s;
      }
    }, {
      key: "renderValues",
      value: function renderValues() {
        this.settings.isMultiple ? this.renderMultipleValues() : this.renderSingleValue();
      }
    }, {
      key: "renderSingleValue",
      value: function renderSingleValue() {
        var t = this.store.filter(function (t) {
            return t.selected && !t.placeholder;
          }, !1),
          e = t.length > 0 ? t[0] : null;
        if (e) {
          var _t6 = document.createElement("div");
          _t6.classList.add(this.classes.single), e.html ? _t6.innerHTML = e.html : _t6.innerText = e.text, this.main.values.innerHTML = _t6.outerHTML;
        } else this.main.values.innerHTML = this.placeholder().outerHTML;
        this.settings.allowDeselect && t.length ? this.main.deselect.main.classList.remove(this.classes.hide) : this.main.deselect.main.classList.add(this.classes.hide);
      }
    }, {
      key: "renderMultipleValues",
      value: function renderMultipleValues() {
        var _this2 = this;
        var t = this.main.values.childNodes,
          e = this.store.filter(function (t) {
            return t.selected && t.display;
          }, !1);
        if (0 === e.length) return void (this.main.values.innerHTML = this.placeholder().outerHTML);
        {
          var _t7 = this.main.values.querySelector("." + this.classes.placeholder);
          _t7 && _t7.remove();
        }
        if (e.length > this.settings.maxValuesShown) {
          var _t8 = document.createElement("div");
          return _t8.classList.add(this.classes.max), _t8.textContent = this.settings.maxValuesMessage.replace("{number}", e.length.toString()), void (this.main.values.innerHTML = _t8.outerHTML);
        }
        {
          var _t9 = this.main.values.querySelector("." + this.classes.max);
          _t9 && _t9.remove();
        }
        var s = [];
        var _loop = function _loop() {
          var n = t[_i2],
            a = n.getAttribute("data-id");
          a && (e.filter(function (t) {
            return t.id === a;
          }, !1).length || s.push(n));
        };
        for (var _i2 = 0; _i2 < t.length; _i2++) {
          _loop();
        }
        var _loop2 = function _loop2() {
          var t = _s4[_i3];
          t.classList.add(_this2.classes.valueOut), setTimeout(function () {
            _this2.main.values.hasChildNodes() && _this2.main.values.contains(t) && _this2.main.values.removeChild(t);
          }, 100);
        };
        for (var _i3 = 0, _s4 = s; _i3 < _s4.length; _i3++) {
          _loop2();
        }
        t = this.main.values.childNodes;
        for (var _s5 = 0; _s5 < e.length; _s5++) {
          var _i4 = !0;
          for (var _n3 = 0; _n3 < t.length; _n3++) e[_s5].id === String(t[_n3].dataset.id) && (_i4 = !1);
          _i4 && (0 === t.length ? this.main.values.appendChild(this.multipleValue(e[_s5])) : 0 === _s5 ? this.main.values.insertBefore(this.multipleValue(e[_s5]), t[_s5]) : t[_s5 - 1].insertAdjacentElement("afterend", this.multipleValue(e[_s5])));
        }
        this.updateDeselectAll();
      }
    }, {
      key: "multipleValue",
      value: function multipleValue(t) {
        var _this3 = this;
        var e = document.createElement("div");
        e.classList.add(this.classes.value), e.dataset.id = t.id;
        var s = document.createElement("div");
        if (s.classList.add(this.classes.valueText), s.innerText = t.text, e.appendChild(s), !t.mandatory) {
          var _s6 = document.createElement("div");
          _s6.classList.add(this.classes.valueDelete), _s6.onclick = function (e) {
            if (e.preventDefault(), e.stopPropagation(), _this3.settings.disabled) return;
            var s = !0;
            var i = _this3.store.getSelectedOptions(),
              r = i.filter(function (e) {
                return e.selected && e.id !== t.id;
              }, !0);
            if (!(_this3.settings.minSelected && r.length < _this3.settings.minSelected) && (_this3.callbacks.beforeChange && (s = !0 === _this3.callbacks.beforeChange(r, i)), s)) {
              var _t10 = [];
              var _iterator8 = _createForOfIteratorHelper(r),
                _step8;
              try {
                for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
                  var _e6 = _step8.value;
                  if (_e6 instanceof n) {
                    var _iterator9 = _createForOfIteratorHelper(_e6.options),
                      _step9;
                    try {
                      for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
                        var _s7 = _step9.value;
                        _t10.push(_s7.value);
                      }
                    } catch (err) {
                      _iterator9.e(err);
                    } finally {
                      _iterator9.f();
                    }
                  }
                  _e6 instanceof a && _t10.push(_e6.value);
                }
              } catch (err) {
                _iterator8.e(err);
              } finally {
                _iterator8.f();
              }
              _this3.callbacks.setSelected(_t10, !1), _this3.settings.closeOnSelect && _this3.callbacks.close(), _this3.callbacks.afterChange && _this3.callbacks.afterChange(r), _this3.updateDeselectAll();
            }
          };
          var _i5 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
          _i5.setAttribute("viewBox", "0 0 100 100");
          var _r3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
          _r3.setAttribute("d", this.classes.optionDelete), _i5.appendChild(_r3), _s6.appendChild(_i5), e.appendChild(_s6);
        }
        return e;
      }
    }, {
      key: "contentDiv",
      value: function contentDiv() {
        var t = document.createElement("div");
        t.dataset.id = this.settings.id, t.id = this.settings.id;
        var e = this.searchDiv();
        t.appendChild(e.main);
        var s = this.listDiv();
        return t.appendChild(s), {
          main: t,
          search: e,
          list: s
        };
      }
    }, {
      key: "moveContent",
      value: function moveContent() {
        "relative" !== this.settings.contentPosition && "down" !== this.settings.openPosition ? "up" !== this.settings.openPosition ? "up" === this.putContent() ? this.moveContentAbove() : this.moveContentBelow() : this.moveContentAbove() : this.moveContentBelow();
      }
    }, {
      key: "searchDiv",
      value: function searchDiv() {
        var _this4 = this;
        var t = document.createElement("div"),
          s = document.createElement("input"),
          i = document.createElement("div");
        t.classList.add(this.classes.search);
        var n = {
          main: t,
          input: s
        };
        if (this.settings.showSearch || (t.classList.add(this.classes.hide), s.readOnly = !0), s.type = "search", s.placeholder = this.settings.searchPlaceholder, s.tabIndex = -1, s.setAttribute("aria-label", this.settings.searchPlaceholder), s.setAttribute("autocapitalize", "off"), s.setAttribute("autocomplete", "off"), s.setAttribute("autocorrect", "off"), s.oninput = e(function (t) {
          _this4.callbacks.search(t.target.value);
        }, 100), s.onkeydown = function (t) {
          switch (t.key) {
            case "ArrowUp":
            case "ArrowDown":
              return "ArrowDown" === t.key ? _this4.highlight("down") : _this4.highlight("up"), !1;
            case "Tab":
              return _this4.callbacks.close(), !0;
            case "Escape":
              return _this4.callbacks.close(), !1;
            case "Enter":
            case " ":
              if (_this4.callbacks.addable && t.ctrlKey) return i.click(), !1;
              {
                var _t11 = _this4.content.list.querySelector("." + _this4.classes.highlighted);
                if (_t11) return _t11.click(), !1;
              }
              return !0;
          }
        }, t.appendChild(s), this.callbacks.addable) {
          i.classList.add(this.classes.addable);
          var _e7 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
          _e7.setAttribute("viewBox", "0 0 100 100");
          var _s8 = document.createElementNS("http://www.w3.org/2000/svg", "path");
          _s8.setAttribute("d", this.classes.addablePath), _e7.appendChild(_s8), i.appendChild(_e7), i.onclick = function (t) {
            if (t.preventDefault(), t.stopPropagation(), !_this4.callbacks.addable) return;
            var e = _this4.content.search.input.value.trim();
            if ("" === e) return void _this4.content.search.input.focus();
            var s = function s(t) {
                var e = new a(t);
                if (_this4.callbacks.addOption(e), _this4.settings.isMultiple) {
                  var _t12 = _this4.store.getSelected();
                  _t12.push(e.value), _this4.callbacks.setSelected(_t12, !0);
                } else _this4.callbacks.setSelected([e.value], !0);
                _this4.callbacks.search(""), _this4.settings.closeOnSelect && setTimeout(function () {
                  _this4.callbacks.close();
                }, 100);
              },
              i = _this4.callbacks.addable(e);
            !1 !== i && null != i && (i instanceof Promise ? i.then(function (t) {
              s("string" == typeof t ? {
                text: t,
                value: t
              } : t);
            }) : s("string" == typeof i ? {
              text: i,
              value: i
            } : i));
          }, t.appendChild(i), n.addable = {
            main: i,
            svg: _e7,
            path: _s8
          };
        }
        return n;
      }
    }, {
      key: "searchFocus",
      value: function searchFocus() {
        this.content.search.input.focus();
      }
    }, {
      key: "getOptions",
      value: function getOptions() {
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
        var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
        var i = "." + this.classes.option;
        return t && (i += ":not(." + this.classes.placeholder + ")"), e && (i += ":not(." + this.classes.disabled + ")"), s && (i += ":not(." + this.classes.hide + ")"), Array.from(this.content.list.querySelectorAll(i));
      }
    }, {
      key: "highlight",
      value: function highlight(t) {
        var e = this.getOptions(!0, !0, !0);
        if (0 !== e.length) if (1 !== e.length || e[0].classList.contains(this.classes.highlighted)) {
          for (var _s9 = 0; _s9 < e.length; _s9++) if (e[_s9].classList.contains(this.classes.highlighted)) {
            var _i6 = e[_s9];
            _i6.classList.remove(this.classes.highlighted);
            var _n4 = _i6.parentElement;
            if (_n4 && _n4.classList.contains(this.classes.open)) {
              var _t13 = _n4.querySelector("." + this.classes.optgroupLabel);
              _t13 && _t13.click();
            }
            var _a2 = e["down" === t ? _s9 + 1 < e.length ? _s9 + 1 : 0 : _s9 - 1 >= 0 ? _s9 - 1 : e.length - 1];
            _a2.classList.add(this.classes.highlighted), this.ensureElementInView(this.content.list, _a2);
            var _r4 = _a2.parentElement;
            if (_r4 && _r4.classList.contains(this.classes.close)) {
              var _t14 = _r4.querySelector("." + this.classes.optgroupLabel);
              _t14 && _t14.click();
            }
            return;
          }
          e["down" === t ? 0 : e.length - 1].classList.add(this.classes.highlighted), this.ensureElementInView(this.content.list, e["down" === t ? 0 : e.length - 1]);
        } else e[0].classList.add(this.classes.highlighted);
      }
    }, {
      key: "listDiv",
      value: function listDiv() {
        var t = document.createElement("div");
        return t.classList.add(this.classes.list), t;
      }
    }, {
      key: "renderError",
      value: function renderError(t) {
        this.content.list.innerHTML = "";
        var e = document.createElement("div");
        e.classList.add(this.classes.error), e.textContent = t, this.content.list.appendChild(e);
      }
    }, {
      key: "renderSearching",
      value: function renderSearching() {
        this.content.list.innerHTML = "";
        var t = document.createElement("div");
        t.classList.add(this.classes.searching), t.textContent = this.settings.searchingText, this.content.list.appendChild(t);
      }
    }, {
      key: "renderOptions",
      value: function renderOptions(t) {
        var _this5 = this;
        if (this.content.list.innerHTML = "", 0 === t.length) {
          var _t15 = document.createElement("div");
          return _t15.classList.add(this.classes.search), _t15.innerHTML = this.settings.searchText, void this.content.list.appendChild(_t15);
        }
        var _iterator10 = _createForOfIteratorHelper(t),
          _step10;
        try {
          var _loop3 = function _loop3() {
            var e = _step10.value;
            if (e instanceof n) {
              var _t16 = document.createElement("div");
              _t16.classList.add(_this5.classes.optgroup);
              var _s10 = document.createElement("div");
              _s10.classList.add(_this5.classes.optgroupLabel), _t16.appendChild(_s10);
              var _i7 = document.createElement("div");
              _i7.classList.add(_this5.classes.optgroupLabelText), _i7.textContent = e.label, _s10.appendChild(_i7);
              var _n5 = document.createElement("div");
              if (_n5.classList.add(_this5.classes.optgroupActions), _s10.appendChild(_n5), _this5.settings.isMultiple && e.selectAll) {
                var _t17 = document.createElement("div");
                _t17.classList.add(_this5.classes.optgroupSelectAll);
                var _s11 = !0;
                var _iterator11 = _createForOfIteratorHelper(e.options),
                  _step11;
                try {
                  for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {
                    var _t21 = _step11.value;
                    if (!_t21.selected) {
                      _s11 = !1;
                      break;
                    }
                  }
                } catch (err) {
                  _iterator11.e(err);
                } finally {
                  _iterator11.f();
                }
                _s11 && _t17.classList.add(_this5.classes.selected);
                var _i8 = document.createElement("span");
                _i8.textContent = e.selectAllText, _t17.appendChild(_i8);
                var _a3 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                _a3.setAttribute("viewBox", "0 0 100 100"), _t17.appendChild(_a3);
                var _r5 = document.createElementNS("http://www.w3.org/2000/svg", "path");
                _r5.setAttribute("d", _this5.classes.optgroupSelectAllBox), _a3.appendChild(_r5);
                var _o2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
                _o2.setAttribute("d", _this5.classes.optgroupSelectAllCheck), _a3.appendChild(_o2), _t17.addEventListener("click", function (t) {
                  t.preventDefault(), t.stopPropagation();
                  var i = _this5.store.getSelected();
                  if (_s11) {
                    var _t18 = i.filter(function (t) {
                      var _iterator12 = _createForOfIteratorHelper(e.options),
                        _step12;
                      try {
                        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {
                          var _s12 = _step12.value;
                          if (t === _s12.value) return !1;
                        }
                      } catch (err) {
                        _iterator12.e(err);
                      } finally {
                        _iterator12.f();
                      }
                      return !0;
                    });
                    _this5.callbacks.setSelected(_t18, !0);
                  } else {
                    var _t19 = i.concat(e.options.map(function (t) {
                      return t.value;
                    }));
                    var _iterator13 = _createForOfIteratorHelper(e.options),
                      _step13;
                    try {
                      for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {
                        var _t20 = _step13.value;
                        _this5.store.getOptionByID(_t20.id) || _this5.callbacks.addOption(_t20);
                      }
                    } catch (err) {
                      _iterator13.e(err);
                    } finally {
                      _iterator13.f();
                    }
                    _this5.callbacks.setSelected(_t19, !0);
                  }
                }), _n5.appendChild(_t17);
              }
              if ("off" !== e.closable) {
                var _i9 = document.createElement("div");
                _i9.classList.add(_this5.classes.optgroupClosable);
                var _a4 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                _a4.setAttribute("viewBox", "0 0 100 100"), _a4.classList.add(_this5.classes.arrow), _i9.appendChild(_a4);
                var _r6 = document.createElementNS("http://www.w3.org/2000/svg", "path");
                _a4.appendChild(_r6), e.options.some(function (t) {
                  return t.selected;
                }) || "" !== _this5.content.search.input.value.trim() ? (_i9.classList.add(_this5.classes.open), _r6.setAttribute("d", _this5.classes.arrowOpen)) : "open" === e.closable ? (_t16.classList.add(_this5.classes.open), _r6.setAttribute("d", _this5.classes.arrowOpen)) : "close" === e.closable && (_t16.classList.add(_this5.classes.close), _r6.setAttribute("d", _this5.classes.arrowClose)), _s10.addEventListener("click", function (e) {
                  e.preventDefault(), e.stopPropagation(), _t16.classList.contains(_this5.classes.close) ? (_t16.classList.remove(_this5.classes.close), _t16.classList.add(_this5.classes.open), _r6.setAttribute("d", _this5.classes.arrowOpen)) : (_t16.classList.remove(_this5.classes.open), _t16.classList.add(_this5.classes.close), _r6.setAttribute("d", _this5.classes.arrowClose));
                }), _n5.appendChild(_i9);
              }
              _t16.appendChild(_s10);
              var _iterator14 = _createForOfIteratorHelper(e.options),
                _step14;
              try {
                for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {
                  var _s13 = _step14.value;
                  _t16.appendChild(_this5.option(_s13));
                }
              } catch (err) {
                _iterator14.e(err);
              } finally {
                _iterator14.f();
              }
              _this5.content.list.appendChild(_t16);
            }
            e instanceof a && _this5.content.list.appendChild(_this5.option(e));
          };
          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
            _loop3();
          }
        } catch (err) {
          _iterator10.e(err);
        } finally {
          _iterator10.f();
        }
      }
    }, {
      key: "option",
      value: function option(t) {
        var _this6 = this;
        if (t.placeholder) {
          var _t22 = document.createElement("div");
          return _t22.classList.add(this.classes.option), _t22.classList.add(this.classes.hide), _t22;
        }
        var e = document.createElement("div");
        return e.dataset.id = t.id, e.id = t.id, e.classList.add(this.classes.option), e.setAttribute("role", "option"), t["class"] && t["class"].split(" ").forEach(function (t) {
          e.classList.add(t);
        }), t.style && (e.style.cssText = t.style), this.settings.searchHighlight && "" !== this.content.search.input.value.trim() ? e.innerHTML = this.highlightText("" !== t.html ? t.html : t.text, this.content.search.input.value, this.classes.searchHighlighter) : "" !== t.html ? e.innerHTML = t.html : e.textContent = t.text, this.settings.showOptionTooltips && e.textContent && e.setAttribute("title", e.textContent), t.display || e.classList.add(this.classes.hide), t.disabled && e.classList.add(this.classes.disabled), t.selected && this.settings.hideSelected && e.classList.add(this.classes.hide), t.selected ? (e.classList.add(this.classes.selected), e.setAttribute("aria-selected", "true"), this.main.main.setAttribute("aria-activedescendant", e.id)) : (e.classList.remove(this.classes.selected), e.setAttribute("aria-selected", "false")), e.addEventListener("click", function (e) {
          e.preventDefault(), e.stopPropagation();
          var s = _this6.store.getSelected(),
            i = e.currentTarget,
            n = String(i.dataset.id);
          if (t.disabled || t.selected && !_this6.settings.allowDeselect) return;
          if (_this6.settings.isMultiple && _this6.settings.maxSelected <= s.length && !t.selected || _this6.settings.isMultiple && _this6.settings.minSelected >= s.length && t.selected) return;
          var a = !1;
          var r = _this6.store.getSelectedOptions();
          var _o3 = [];
          _this6.settings.isMultiple && (_o3 = t.selected ? r.filter(function (t) {
            return t.id !== n;
          }) : r.concat(t)), _this6.settings.isMultiple || (_o3 = t.selected ? [] : [t]), _this6.callbacks.beforeChange || (a = !0), _this6.callbacks.beforeChange && (a = !1 !== _this6.callbacks.beforeChange(_o3, r)), a && (_this6.store.getOptionByID(n) || _this6.callbacks.addOption(t), _this6.callbacks.setSelected(_o3.map(function (t) {
            return t.value;
          }), !1), _this6.settings.closeOnSelect && _this6.callbacks.close(), _this6.callbacks.afterChange && _this6.callbacks.afterChange(_o3));
        }), e;
      }
    }, {
      key: "destroy",
      value: function destroy() {
        this.main.main.remove(), this.content.main.remove();
      }
    }, {
      key: "highlightText",
      value: function highlightText(t, e, s) {
        var i = t;
        var n = new RegExp("(" + e.trim() + ")(?![^<]*>[^<>]*</)", "i");
        if (!t.match(n)) return t;
        var a = t.match(n).index,
          r = a + t.match(n)[0].toString().length,
          _o4 = t.substring(a, r);
        return i = i.replace(n, "<mark class=\"".concat(s, "\">").concat(_o4, "</mark>")), i;
      }
    }, {
      key: "moveContentAbove",
      value: function moveContentAbove() {
        var t = this.main.main.offsetHeight,
          e = this.content.main.offsetHeight;
        this.main.main.classList.remove(this.classes.openBelow), this.main.main.classList.add(this.classes.openAbove), this.content.main.classList.remove(this.classes.openBelow), this.content.main.classList.add(this.classes.openAbove);
        var s = this.main.main.getBoundingClientRect();
        this.content.main.style.margin = "-" + (t + e - 1) + "px 0px 0px 0px", this.content.main.style.top = s.top + s.height + window.scrollY + "px", this.content.main.style.left = s.left + window.scrollX + "px", this.content.main.style.width = s.width + "px";
      }
    }, {
      key: "moveContentBelow",
      value: function moveContentBelow() {
        this.main.main.classList.remove(this.classes.openAbove), this.main.main.classList.add(this.classes.openBelow), this.content.main.classList.remove(this.classes.openAbove), this.content.main.classList.add(this.classes.openBelow);
        var t = this.main.main.getBoundingClientRect();
        this.content.main.style.margin = "-1px 0px 0px 0px", "relative" !== this.settings.contentPosition && (this.content.main.style.top = t.top + t.height + window.scrollY + "px", this.content.main.style.left = t.left + window.scrollX + "px", this.content.main.style.width = t.width + "px");
      }
    }, {
      key: "ensureElementInView",
      value: function ensureElementInView(t, e) {
        var s = t.scrollTop + t.offsetTop,
          i = s + t.clientHeight,
          n = e.offsetTop,
          a = n + e.clientHeight;
        n < s ? t.scrollTop -= s - n : a > i && (t.scrollTop += a - i);
      }
    }, {
      key: "putContent",
      value: function putContent() {
        var t = this.main.main.offsetHeight,
          e = this.main.main.getBoundingClientRect(),
          s = this.content.main.offsetHeight;
        return window.innerHeight - (e.top + t) <= s && e.top > s ? "up" : "down";
      }
    }, {
      key: "updateDeselectAll",
      value: function updateDeselectAll() {
        if (!this.store || !this.settings) return;
        var t = this.store.getSelectedOptions(),
          e = t && t.length > 0,
          s = this.settings.isMultiple,
          i = this.settings.allowDeselect,
          n = this.main.deselect.main,
          a = this.classes.hide;
        !i || s && !e ? n.classList.add(a) : n.classList.remove(a);
      }
    }]);
  }();
  var l = /*#__PURE__*/function () {
    function l(t) {
      _classCallCheck(this, l);
      this.listen = !1, this.observer = null, this.select = t, this.select.addEventListener("change", this.valueChange.bind(this), {
        passive: !0
      }), this.observer = new MutationObserver(this.observeCall.bind(this)), this.changeListen(!0);
    }
    return _createClass(l, [{
      key: "enable",
      value: function enable() {
        this.select.disabled = !1;
      }
    }, {
      key: "disable",
      value: function disable() {
        this.select.disabled = !0;
      }
    }, {
      key: "hideUI",
      value: function hideUI() {
        this.select.tabIndex = -1, this.select.style.display = "none", this.select.setAttribute("aria-hidden", "true");
      }
    }, {
      key: "showUI",
      value: function showUI() {
        this.select.removeAttribute("tabindex"), this.select.style.display = "", this.select.removeAttribute("aria-hidden");
      }
    }, {
      key: "changeListen",
      value: function changeListen(t) {
        this.listen = t, t && this.observer && this.observer.observe(this.select, {
          subtree: !0,
          childList: !0,
          attributes: !0
        }), t || this.observer && this.observer.disconnect();
      }
    }, {
      key: "valueChange",
      value: function valueChange(t) {
        return this.listen && this.onValueChange && this.onValueChange(this.getSelectedValues()), !0;
      }
    }, {
      key: "observeCall",
      value: function observeCall(t) {
        if (!this.listen) return;
        var e = !1,
          s = !1,
          i = !1;
        var _iterator15 = _createForOfIteratorHelper(t),
          _step15;
        try {
          for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {
            var _n6 = _step15.value;
            _n6.target === this.select && ("disabled" === _n6.attributeName && (s = !0), "class" === _n6.attributeName && (e = !0)), "OPTGROUP" !== _n6.target.nodeName && "OPTION" !== _n6.target.nodeName || (i = !0);
          }
        } catch (err) {
          _iterator15.e(err);
        } finally {
          _iterator15.f();
        }
        e && this.onClassChange && this.onClassChange(this.select.className.split(" ")), s && this.onDisabledChange && (this.changeListen(!1), this.onDisabledChange(this.select.disabled), this.changeListen(!0)), i && this.onOptionsChange && (this.changeListen(!1), this.onOptionsChange(this.getData()), this.changeListen(!0));
      }
    }, {
      key: "getData",
      value: function getData() {
        var t = [];
        var e = this.select.childNodes;
        var _iterator16 = _createForOfIteratorHelper(e),
          _step16;
        try {
          for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {
            var _s14 = _step16.value;
            "OPTGROUP" === _s14.nodeName && t.push(this.getDataFromOptgroup(_s14)), "OPTION" === _s14.nodeName && t.push(this.getDataFromOption(_s14));
          }
        } catch (err) {
          _iterator16.e(err);
        } finally {
          _iterator16.f();
        }
        return t;
      }
    }, {
      key: "getDataFromOptgroup",
      value: function getDataFromOptgroup(t) {
        var e = {
          id: t.id,
          label: t.label,
          selectAll: !!t.dataset && "true" === t.dataset.selectall,
          selectAllText: t.dataset ? t.dataset.selectalltext : "Select all",
          closable: t.dataset ? t.dataset.closable : "off",
          options: []
        };
        var s = t.childNodes;
        var _iterator17 = _createForOfIteratorHelper(s),
          _step17;
        try {
          for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {
            var _t23 = _step17.value;
            "OPTION" === _t23.nodeName && e.options.push(this.getDataFromOption(_t23));
          }
        } catch (err) {
          _iterator17.e(err);
        } finally {
          _iterator17.f();
        }
        return e;
      }
    }, {
      key: "getDataFromOption",
      value: function getDataFromOption(t) {
        return {
          id: t.id,
          value: t.value,
          text: t.text,
          html: t.dataset && t.dataset.html ? t.dataset.html : "",
          selected: t.selected,
          display: "none" !== t.style.display,
          disabled: t.disabled,
          mandatory: !!t.dataset && "true" === t.dataset.mandatory,
          placeholder: "true" === t.dataset.placeholder,
          "class": t.className,
          style: t.style.cssText,
          data: t.dataset
        };
      }
    }, {
      key: "getSelectedValues",
      value: function getSelectedValues() {
        var t = [];
        var e = this.select.childNodes;
        var _iterator18 = _createForOfIteratorHelper(e),
          _step18;
        try {
          for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {
            var _s15 = _step18.value;
            if ("OPTGROUP" === _s15.nodeName) {
              var _e8 = _s15.childNodes;
              var _iterator19 = _createForOfIteratorHelper(_e8),
                _step19;
              try {
                for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {
                  var _s16 = _step19.value;
                  if ("OPTION" === _s16.nodeName) {
                    var _e9 = _s16;
                    _e9.selected && t.push(_e9.value);
                  }
                }
              } catch (err) {
                _iterator19.e(err);
              } finally {
                _iterator19.f();
              }
            }
            if ("OPTION" === _s15.nodeName) {
              var _e10 = _s15;
              _e10.selected && t.push(_e10.value);
            }
          }
        } catch (err) {
          _iterator18.e(err);
        } finally {
          _iterator18.f();
        }
        return t;
      }
    }, {
      key: "setSelected",
      value: function setSelected(t) {
        this.changeListen(!1);
        var e = this.select.childNodes;
        var _iterator20 = _createForOfIteratorHelper(e),
          _step20;
        try {
          for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {
            var _s17 = _step20.value;
            if ("OPTGROUP" === _s17.nodeName) {
              var _e11 = _s17.childNodes;
              var _iterator21 = _createForOfIteratorHelper(_e11),
                _step21;
              try {
                for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {
                  var _s18 = _step21.value;
                  if ("OPTION" === _s18.nodeName) {
                    var _e12 = _s18;
                    _e12.selected = t.includes(_e12.value);
                  }
                }
              } catch (err) {
                _iterator21.e(err);
              } finally {
                _iterator21.f();
              }
            }
            if ("OPTION" === _s17.nodeName) {
              var _e13 = _s17;
              _e13.selected = t.includes(_e13.value);
            }
          }
        } catch (err) {
          _iterator20.e(err);
        } finally {
          _iterator20.f();
        }
        this.changeListen(!0);
      }
    }, {
      key: "updateSelect",
      value: function updateSelect(t, e, s) {
        var _this7 = this;
        this.changeListen(!1), t && (this.select.dataset.id = t), e && (this.select.style.cssText = e), s && (this.select.className = "", s.forEach(function (t) {
          "" !== t.trim() && _this7.select.classList.add(t.trim());
        })), this.changeListen(!0);
      }
    }, {
      key: "updateOptions",
      value: function updateOptions(t) {
        this.changeListen(!1), this.select.innerHTML = "";
        var _iterator22 = _createForOfIteratorHelper(t),
          _step22;
        try {
          for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {
            var _e14 = _step22.value;
            _e14 instanceof n && this.select.appendChild(this.createOptgroup(_e14)), _e14 instanceof a && this.select.appendChild(this.createOption(_e14));
          }
        } catch (err) {
          _iterator22.e(err);
        } finally {
          _iterator22.f();
        }
        this.select.dispatchEvent(new Event("change")), this.changeListen(!0);
      }
    }, {
      key: "createOptgroup",
      value: function createOptgroup(t) {
        var e = document.createElement("optgroup");
        if (e.id = t.id, e.label = t.label, t.selectAll && (e.dataset.selectAll = "true"), "off" !== t.closable && (e.dataset.closable = t.closable), t.options) {
          var _iterator23 = _createForOfIteratorHelper(t.options),
            _step23;
          try {
            for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {
              var _s19 = _step23.value;
              e.appendChild(this.createOption(_s19));
            }
          } catch (err) {
            _iterator23.e(err);
          } finally {
            _iterator23.f();
          }
        }
        return e;
      }
    }, {
      key: "createOption",
      value: function createOption(t) {
        var e = document.createElement("option");
        return e.id = t.id, e.value = t.value, e.innerHTML = t.text, "" !== t.html && e.setAttribute("data-html", t.html), t.selected && (e.selected = t.selected), t.disabled && (e.disabled = !0), !1 === t.display && (e.style.display = "none"), t.placeholder && e.setAttribute("data-placeholder", "true"), t.mandatory && e.setAttribute("data-mandatory", "true"), t["class"] && t["class"].split(" ").forEach(function (t) {
          e.classList.add(t);
        }), t.data && "object" == _typeof(t.data) && Object.keys(t.data).forEach(function (s) {
          e.setAttribute("data-" + function (t) {
            var e = t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g, function (t) {
              return "-" + t.toLowerCase();
            });
            return t[0] === t[0].toUpperCase() ? e.substring(1) : e;
          }(s), t.data[s]);
        }), e;
      }
    }, {
      key: "destroy",
      value: function destroy() {
        this.changeListen(!1), this.select.removeEventListener("change", this.valueChange.bind(this)), this.observer && (this.observer.disconnect(), this.observer = null), delete this.select.dataset.id, this.showUI();
      }
    }]);
  }();
  return /*#__PURE__*/function () {
    function _class(t) {
      var _this8 = this;
      _classCallCheck(this, _class);
      var s;
      if (this.events = {
        search: void 0,
        searchFilter: function searchFilter(t, e) {
          return -1 !== t.text.toLowerCase().indexOf(e.toLowerCase());
        },
        addable: void 0,
        beforeChange: void 0,
        afterChange: void 0,
        beforeOpen: void 0,
        afterOpen: void 0,
        beforeClose: void 0,
        afterClose: void 0
      }, this.windowResize = e(function () {
        (_this8.settings.isOpen || _this8.settings.isFullOpen) && _this8.render.moveContent();
      }), this.windowScroll = e(function () {
        (_this8.settings.isOpen || _this8.settings.isFullOpen) && _this8.render.moveContent();
      }), this.documentClick = function (t) {
        _this8.settings.isOpen && t.target && !function (t, e) {
          function s(t, s) {
            return s && t && t.classList && t.classList.contains(s) || s && t && t.dataset && t.dataset.id && t.dataset.id === e ? t : null;
          }
          return s(t, e) || function t(e, i) {
            return e && e !== document ? s(e, i) ? e : t(e.parentNode, i) : null;
          }(t, e);
        }(t.target, _this8.settings.id) && _this8.close(t.type);
      }, this.windowVisibilityChange = function () {
        document.hidden && _this8.close();
      }, this.selectEl = "string" == typeof t.select ? document.querySelector(t.select) : t.select, !this.selectEl) return void (t.events && t.events.error && t.events.error(new Error("Could not find select element")));
      if ("SELECT" !== this.selectEl.tagName) return void (t.events && t.events.error && t.events.error(new Error("Element isnt of type select")));
      this.selectEl.dataset.ssid && this.destroy(), this.settings = new i(t.settings);
      var n = ["afterChange", "beforeOpen", "afterOpen", "beforeClose", "afterClose"];
      for (var _s20 in t.events) t.events.hasOwnProperty(_s20) && (-1 !== n.indexOf(_s20) ? this.events[_s20] = e(t.events[_s20], 100) : this.events[_s20] = t.events[_s20]);
      this.settings.disabled = (null === (s = t.settings) || void 0 === s ? void 0 : s.disabled) ? t.settings.disabled : this.selectEl.disabled, this.settings.isMultiple = this.selectEl.multiple, this.settings.style = this.selectEl.style.cssText, this.settings["class"] = this.selectEl.className.split(" "), this.select = new l(this.selectEl), this.select.updateSelect(this.settings.id, this.settings.style, this.settings["class"]), this.select.hideUI(), this.select.onValueChange = function (t) {
        _this8.setSelected(t);
      }, this.select.onClassChange = function (t) {
        _this8.settings["class"] = t, _this8.render.updateClassStyles();
      }, this.select.onDisabledChange = function (t) {
        t ? _this8.disable() : _this8.enable();
      }, this.select.onOptionsChange = function (t) {
        _this8.setData(t);
      }, this.store = new r(this.settings.isMultiple ? "multiple" : "single", t.data ? t.data : this.select.getData()), t.data && this.select.updateOptions(this.store.getData());
      var a = {
        open: this.open.bind(this),
        close: this.close.bind(this),
        addable: this.events.addable ? this.events.addable : void 0,
        setSelected: this.setSelected.bind(this),
        addOption: this.addOption.bind(this),
        search: this.search.bind(this),
        beforeChange: this.events.beforeChange,
        afterChange: this.events.afterChange
      };
      this.render = new o(this.settings, this.store, a), this.render.renderValues(), this.render.renderOptions(this.store.getData());
      var u = this.selectEl.getAttribute("aria-label"),
        h = this.selectEl.getAttribute("aria-labelledby");
      u ? this.render.main.main.setAttribute("aria-label", u) : h && this.render.main.main.setAttribute("aria-labelledby", h), this.selectEl.parentNode && this.selectEl.parentNode.insertBefore(this.render.main.main, this.selectEl.nextSibling), document.addEventListener("click", this.documentClick), window.addEventListener("resize", this.windowResize, !1), "auto" === this.settings.openPosition && window.addEventListener("scroll", this.windowScroll, !1), document.addEventListener("visibilitychange", this.windowVisibilityChange), this.settings.disabled && this.disable(), this.settings.alwaysOpen && this.open(), this.selectEl.slim = this;
    }
    return _createClass(_class, [{
      key: "enable",
      value: function enable() {
        this.settings.disabled = !1, this.select.enable(), this.render.enable();
      }
    }, {
      key: "disable",
      value: function disable() {
        this.settings.disabled = !0, this.select.disable(), this.render.disable();
      }
    }, {
      key: "getData",
      value: function getData() {
        return this.store.getData();
      }
    }, {
      key: "setData",
      value: function setData(t) {
        var e = this.store.getSelected(),
          i = this.store.validateDataArray(t);
        if (i) return void (this.events.error && this.events.error(i));
        this.store.setData(t);
        var n = this.store.getData();
        this.select.updateOptions(n), this.render.renderValues(), this.render.renderOptions(n), this.events.afterChange && !s(e, this.store.getSelected()) && this.events.afterChange(this.store.getSelectedOptions());
      }
    }, {
      key: "getSelected",
      value: function getSelected() {
        return this.store.getSelected();
      }
    }, {
      key: "setSelected",
      value: function setSelected(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
        var i = this.store.getSelected();
        this.store.setSelectedBy("value", Array.isArray(t) ? t : [t]);
        var n = this.store.getData();
        this.select.updateOptions(n), this.render.renderValues(), "" !== this.render.content.search.input.value ? this.search(this.render.content.search.input.value) : this.render.renderOptions(n), e && this.events.afterChange && !s(i, this.store.getSelected()) && this.events.afterChange(this.store.getSelectedOptions());
      }
    }, {
      key: "addOption",
      value: function addOption(t) {
        var e = this.store.getSelected();
        this.store.getDataOptions().some(function (e) {
          var s;
          return e.value === (null !== (s = t.value) && void 0 !== s ? s : t.text);
        }) || this.store.addOption(t);
        var i = this.store.getData();
        this.select.updateOptions(i), this.render.renderValues(), this.render.renderOptions(i), this.events.afterChange && !s(e, this.store.getSelected()) && this.events.afterChange(this.store.getSelectedOptions());
      }
    }, {
      key: "open",
      value: function open() {
        var _this9 = this;
        this.settings.disabled || this.settings.isOpen || (this.events.beforeOpen && this.events.beforeOpen(), this.render.open(), this.settings.showSearch && this.render.searchFocus(), this.settings.isOpen = !0, setTimeout(function () {
          _this9.events.afterOpen && _this9.events.afterOpen(), _this9.settings.isOpen && (_this9.settings.isFullOpen = !0);
        }, this.settings.timeoutDelay), "absolute" === this.settings.contentPosition && (this.settings.intervalMove && clearInterval(this.settings.intervalMove), this.settings.intervalMove = setInterval(this.render.moveContent.bind(this.render), 500)));
      }
    }, {
      key: "close",
      value: function close() {
        var _this10 = this;
        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
        this.settings.isOpen && !this.settings.alwaysOpen && (this.events.beforeClose && this.events.beforeClose(), this.render.close(), "" !== this.render.content.search.input.value && this.search(""), this.render.mainFocus(t), this.settings.isOpen = !1, this.settings.isFullOpen = !1, setTimeout(function () {
          _this10.events.afterClose && _this10.events.afterClose();
        }, this.settings.timeoutDelay), this.settings.intervalMove && clearInterval(this.settings.intervalMove));
      }
    }, {
      key: "search",
      value: function search(t) {
        var _this11 = this;
        if (this.render.content.search.input.value !== t && (this.render.content.search.input.value = t), !this.events.search) return void this.render.renderOptions("" === t ? this.store.getData() : this.store.search(t, this.events.searchFilter));
        this.render.renderSearching();
        var e = this.events.search(t, this.store.getSelectedOptions());
        e instanceof Promise ? e.then(function (t) {
          _this11.render.renderOptions(_this11.store.partialToFullData(t));
        })["catch"](function (t) {
          _this11.render.renderError("string" == typeof t ? t : t.message);
        }) : Array.isArray(e) ? this.render.renderOptions(this.store.partialToFullData(e)) : this.render.renderError("Search event must return a promise or an array of data");
      }
    }, {
      key: "destroy",
      value: function destroy() {
        document.removeEventListener("click", this.documentClick), window.removeEventListener("resize", this.windowResize, !1), "auto" === this.settings.openPosition && window.removeEventListener("scroll", this.windowScroll, !1), document.removeEventListener("visibilitychange", this.windowVisibilityChange), this.store.setData([]), this.render.destroy(), this.select.destroy();
      }
    }]);
  }();
});
var goldSelect = new SlimSelect({
  select: "#gold_probe",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
});
new SlimSelect({
  select: "#gold_probe_m",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
});
var silverSelect = new SlimSelect({
  select: "#silver_probe",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
});
new SlimSelect({
  select: "#silver_probe_m",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#tech_type",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#tech_type_m",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#hometech_type",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#hometech_type_m",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#tools_type",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#tools_type_m",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#auto_type",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
}), new SlimSelect({
  select: "#auto_type_m",
  settings: {
    placeholderText: "ÐÐ±ÐµÑÑÑÑ ÑÐ¾Ð·Ð¼ÑÑ",
    showSearch: !1
  }
});